<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html"><meta property="og:site_name" content="huluhutublog"><meta property="og:title" content="DI相关注解"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-06T10:31:37.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-10-06T10:31:37.000Z"><link rel="icon" href="/huluhutublog/favicon.ico"><link rel="icon" href="/huluhutublog/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/huluhutublog/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/huluhutublog/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/huluhutublog/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/huluhutublog/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/huluhutublog/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/huluhutublog/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>DI相关注解 | huluhutublog</title><meta name="description" content="That is my Blog!!!">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/huluhutublog/assets/style.dc69c01e.css">
    <link rel="modulepreload" href="/huluhutublog/assets/app.0662e65c.js"><link rel="modulepreload" href="/huluhutublog/assets/4-DI相关注解.html.3a3b3ecd.js"><link rel="modulepreload" href="/huluhutublog/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/huluhutublog/assets/4-DI相关注解.html.d1aad0a5.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/huluhutublog/" class="brand"><img class="logo" src="/huluhutublog/logo.svg" alt="huluhutublog"><!----><span class="site-name hide-in-pad">huluhutublog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/huluhutublog/" class="nav-link" aria-label="HULUHUTU"><span class="icon iconfont icon-home"></span>HULUHUTU<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="面试"><span class="title"><span class="icon iconfont icon-note"></span>面试</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Interviews/Java/" class="nav-link" aria-label="Java"><!---->Java<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="计算机基础"><span class="title"><span class="icon iconfont icon-note"></span>计算机基础</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/DataStructuresAndAlgorithms/" class="nav-link" aria-label="数据结构与算法"><!---->数据结构与算法<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/ComputerNetwork/" class="nav-link" aria-label="计算机网络"><!---->计算机网络<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/OperatingSystem/" class="nav-link" aria-label="操作系统"><!---->操作系统<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/PrinciplesOfComputerOrganization/" class="nav-link" aria-label="计算机组成原理"><!---->计算机组成原理<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/PrinciplesOfDatabase/" class="nav-link" aria-label="数据库原理"><!---->数据库原理<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/DesignPatterns/" class="nav-link" aria-label="设计模式"><!---->设计模式<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-note"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaBase/" class="nav-link" aria-label="Java基础"><!---->Java基础<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaIO/" class="nav-link" aria-label="JavaIO"><!---->JavaIO<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaCollection/" class="nav-link" aria-label="Java集合"><!---->Java集合<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaConcurrent/" class="nav-link" aria-label="Java并发编程"><!---->Java并发编程<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JVM/JVM.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title"><span class="icon iconfont icon-note"></span>数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/DB/MySQL/" class="nav-link" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DB/Redis/" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring"><span class="title"><span class="icon iconfont icon-note"></span>Spring</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/Spring/" class="nav-link active" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringMVC/" class="nav-link" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringBoot/" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringCloud/" class="nav-link" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="消息队列"><span class="title"><span class="icon iconfont icon-note"></span>消息队列</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/RabbitMQ/" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/RocketMQ/" class="nav-link" aria-label="RocketMQ"><!---->RocketMQ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/Kafka/" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="分布式"><span class="title"><span class="icon iconfont icon-note"></span>分布式</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Distributed/Artritecture/" class="nav-link" aria-label="架构"><!---->架构<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Distributed/Distributed/" class="nav-link" aria-label="分布式理论"><!---->分布式理论<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="开发工具"><span class="title"><span class="icon iconfont icon-note"></span>开发工具</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Git/" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Linux/" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Docker/" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Maven/" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="项目"><span class="title"><span class="icon iconfont icon-note"></span>项目</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Project/SwiftHome/" class="nav-link" aria-label="快捷到家"><!---->快捷到家<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="部署"><span class="title"><span class="icon iconfont icon-note"></span>部署</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Deploy/Blog/" class="nav-link" aria-label="vuepress"><!---->vuepress<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-note"></span><span class="title">Spring</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/" class="nav-link sidebar-link sidebar-page" aria-label="Spring学习指南"><!---->Spring学习指南<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/1-IOC%E4%B8%8EDI.html" class="nav-link sidebar-link sidebar-page" aria-label="IOC与DI"><!---->IOC与DI<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/2-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="Bean的生命周期"><!---->Bean的生命周期<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/3-IOC%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html" class="nav-link sidebar-link sidebar-page" aria-label="IOC相关注解"><!---->IOC相关注解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="DI相关注解"><!---->DI相关注解<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_1-autowired" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1-@Autowired"><!---->1-@Autowired<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_1-作用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.作用"><!---->1.作用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_2-查找候选者过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.查找候选者过程"><!---->2.查找候选者过程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-autowired标注在构造器上-通过构造器注入依赖对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例1：@Autowired标注在构造器上，通过构造器注入依赖对象"><!---->案例1：@Autowired标注在构造器上，通过构造器注入依赖对象<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-autowired标注在方法上-通过方法注入依赖的对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例2：@Autowired标注在方法上，通过方法注入依赖的对象"><!---->案例2：@Autowired标注在方法上，通过方法注入依赖的对象<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例3-autowired标注在setter方法上-通过setter方法注入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例3：@Autowired标注在setter方法上，通过setter方法注入"><!---->案例3：@Autowired标注在setter方法上，通过setter方法注入<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例4-autowired标注在方法参数上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例4：@Autowired标注在方法参数上"><!---->案例4：@Autowired标注在方法参数上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例5-autowired用在字段上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例5：@Autowired用在字段上"><!---->案例5：@Autowired用在字段上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例6-autowire标注字段-多个候选者的时候-按字段名称注入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例6：@Autowire标注字段，多个候选者的时候，按字段名称注入"><!---->案例6：@Autowire标注字段，多个候选者的时候，按字段名称注入<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例7-将指定类型的所有bean-注入到collection、map中" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例7：将指定类型的所有bean，注入到Collection、Map中"><!---->案例7：将指定类型的所有bean，注入到Collection、Map中<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#autowired源码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@Autowired源码"><!---->@Autowired源码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_2-resource-注意依赖对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2-@Resource：注意依赖对象"><!---->2-@Resource：注意依赖对象<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#作用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="作用"><!---->作用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#resource查找候选者的过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@Resource查找候选者的过程"><!---->@Resource查找候选者的过程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-将-resource标注在字段上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例1：将@Resource标注在字段上"><!---->案例1：将@Resource标注在字段上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#resource源码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@Resource源码"><!---->@Resource源码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_3-qualifier-限定符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3-@Qualifier：限定符"><!---->3-@Qualifier：限定符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#作用-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="作用"><!---->作用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-用在类上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例1：用在类上"><!---->案例1：用在类上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-autowired结合-qulifier指定注入的bean" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例2：@Autowired结合@Qulifier指定注入的bean"><!---->案例2：@Autowired结合@Qulifier指定注入的bean<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例3-用在方法参数上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例3：用在方法参数上"><!---->案例3：用在方法参数上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例4-用在setter方法上" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例4：用在setter方法上"><!---->案例4：用在setter方法上<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_4-primary-设置为主要候选者" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4-@Primary：设置为主要候选者"><!---->4-@Primary：设置为主要候选者<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-用在类上-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例1：用在类上"><!---->案例1：用在类上<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-用在方法上-结合-bean使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例2：用在方法上，结合@Bean使用"><!---->案例2：用在方法上，结合@Bean使用<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_5-bean定义bean时注入依赖的几种方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5-@Bean定义bean时注入依赖的几种方式"><!---->5-@Bean定义bean时注入依赖的几种方式<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#常见3种方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="常见3种方式"><!---->常见3种方式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式1-硬编码方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="方式1：硬编码方式"><!---->方式1：硬编码方式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式2-autowired、-resource的方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="方式2：@Autowired、@Resource的方式"><!---->方式2：@Autowired、@Resource的方式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式3-bean标注的方法使用参数来进行注入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="方式3：@Bean标注的方法使用参数来进行注入"><!---->方式3：@Bean标注的方法使用参数来进行注入<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#其他" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="其他"><!---->其他<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_6-泛型注入" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6-泛型注入"><!---->6-泛型注入<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#先来2个普通的类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="先来2个普通的类"><!---->先来2个普通的类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个泛型接口" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="来个泛型接口"><!---->来个泛型接口<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来2个实现类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="来2个实现类"><!---->来2个实现类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#在来个泛型类型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="在来个泛型类型"><!---->在来个泛型类型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#baseservice来2个子类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="BaseService来2个子类"><!---->BaseService来2个子类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个总的配置类-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="来个总的配置类"><!---->来个总的配置类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个测试用例-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="来个测试用例"><!---->来个测试用例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#运行输出-12" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行输出"><!---->运行输出<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_7-总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7-总结"><!---->7-总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/5-%20%E6%9C%89%E5%85%B3Bean%E7%89%B9%E6%80%A7%E7%9A%84%E6%B3%A8%E8%A7%A3.html" class="nav-link sidebar-link sidebar-page" aria-label="有关Bean特性的注解"><!---->有关Bean特性的注解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/6-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="代理模式"><!---->代理模式<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/7-AOP.html" class="nav-link sidebar-link sidebar-page" aria-label="AOP"><!---->AOP<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/AOP%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html" class="nav-link sidebar-link sidebar-page" aria-label="AOP相关注解"><!---->AOP相关注解<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96.html" class="nav-link sidebar-link sidebar-page" aria-label="循环依赖"><!---->循环依赖<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/huluhutublog/pages/Spring/Spring/Spring%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring设计模式"><!---->Spring设计模式<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">SpringMVC</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">SpringBoot</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">SpringCloud</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->DI相关注解</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">huluhutu</a></span><span property="author" content="huluhutu"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年10月6日</span><meta property="datePublished" content="2022-10-06T10:31:37.000Z"></span><!----><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 23 分钟</span><meta property="timeRequired" content="PT23M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_1-autowired" class="router-link-active router-link-exact-active toc-link level2">1-@Autowired</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_1-作用" class="router-link-active router-link-exact-active toc-link level3">1.作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_2-查找候选者过程" class="router-link-active router-link-exact-active toc-link level3">2.查找候选者过程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-autowired标注在构造器上-通过构造器注入依赖对象" class="router-link-active router-link-exact-active toc-link level3">案例1：@Autowired标注在构造器上，通过构造器注入依赖对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-autowired标注在方法上-通过方法注入依赖的对象" class="router-link-active router-link-exact-active toc-link level3">案例2：@Autowired标注在方法上，通过方法注入依赖的对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例3-autowired标注在setter方法上-通过setter方法注入" class="router-link-active router-link-exact-active toc-link level3">案例3：@Autowired标注在setter方法上，通过setter方法注入</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例4-autowired标注在方法参数上" class="router-link-active router-link-exact-active toc-link level3">案例4：@Autowired标注在方法参数上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例5-autowired用在字段上" class="router-link-active router-link-exact-active toc-link level3">案例5：@Autowired用在字段上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例6-autowire标注字段-多个候选者的时候-按字段名称注入" class="router-link-active router-link-exact-active toc-link level3">案例6：@Autowire标注字段，多个候选者的时候，按字段名称注入</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例7-将指定类型的所有bean-注入到collection、map中" class="router-link-active router-link-exact-active toc-link level3">案例7：将指定类型的所有bean，注入到Collection、Map中</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#autowired源码" class="router-link-active router-link-exact-active toc-link level3">@Autowired源码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_2-resource-注意依赖对象" class="router-link-active router-link-exact-active toc-link level2">2-@Resource：注意依赖对象</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#作用" class="router-link-active router-link-exact-active toc-link level3">作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#resource查找候选者的过程" class="router-link-active router-link-exact-active toc-link level3">@Resource查找候选者的过程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-将-resource标注在字段上" class="router-link-active router-link-exact-active toc-link level3">案例1：将@Resource标注在字段上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#resource源码" class="router-link-active router-link-exact-active toc-link level3">@Resource源码</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_3-qualifier-限定符" class="router-link-active router-link-exact-active toc-link level2">3-@Qualifier：限定符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#作用-1" class="router-link-active router-link-exact-active toc-link level3">作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-用在类上" class="router-link-active router-link-exact-active toc-link level3">案例1：用在类上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-autowired结合-qulifier指定注入的bean" class="router-link-active router-link-exact-active toc-link level3">案例2：@Autowired结合@Qulifier指定注入的bean</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例3-用在方法参数上" class="router-link-active router-link-exact-active toc-link level3">案例3：用在方法参数上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例4-用在setter方法上" class="router-link-active router-link-exact-active toc-link level3">案例4：用在setter方法上</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_4-primary-设置为主要候选者" class="router-link-active router-link-exact-active toc-link level2">4-@Primary：设置为主要候选者</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例1-用在类上-1" class="router-link-active router-link-exact-active toc-link level3">案例1：用在类上</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#案例2-用在方法上-结合-bean使用" class="router-link-active router-link-exact-active toc-link level3">案例2：用在方法上，结合@Bean使用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_5-bean定义bean时注入依赖的几种方式" class="router-link-active router-link-exact-active toc-link level2">5-@Bean定义bean时注入依赖的几种方式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#常见3种方式" class="router-link-active router-link-exact-active toc-link level3">常见3种方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式1-硬编码方式" class="router-link-active router-link-exact-active toc-link level3">方式1：硬编码方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式2-autowired、-resource的方式" class="router-link-active router-link-exact-active toc-link level3">方式2：@Autowired、@Resource的方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#方式3-bean标注的方法使用参数来进行注入" class="router-link-active router-link-exact-active toc-link level3">方式3：@Bean标注的方法使用参数来进行注入</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#其他" class="router-link-active router-link-exact-active toc-link level3">其他</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_6-泛型注入" class="router-link-active router-link-exact-active toc-link level2">6-泛型注入</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#先来2个普通的类" class="router-link-active router-link-exact-active toc-link level3">先来2个普通的类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个泛型接口" class="router-link-active router-link-exact-active toc-link level3">来个泛型接口</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来2个实现类" class="router-link-active router-link-exact-active toc-link level3">来2个实现类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#在来个泛型类型" class="router-link-active router-link-exact-active toc-link level3">在来个泛型类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#baseservice来2个子类" class="router-link-active router-link-exact-active toc-link level3">BaseService来2个子类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个总的配置类-1" class="router-link-active router-link-exact-active toc-link level3">来个总的配置类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#来个测试用例-9" class="router-link-active router-link-exact-active toc-link level3">来个测试用例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#运行输出-12" class="router-link-active router-link-exact-active toc-link level3">运行输出</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Spring/Spring/4-DI%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html#_7-总结" class="router-link-active router-link-exact-active toc-link level2">7-总结</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="di相关注解" tabindex="-1"><a class="header-anchor" href="#di相关注解" aria-hidden="true">#</a> DI相关注解</h1><h2 id="_1-autowired" tabindex="-1"><a class="header-anchor" href="#_1-autowired" aria-hidden="true">#</a> 1-@Autowired</h2><h3 id="_1-作用" tabindex="-1"><a class="header-anchor" href="#_1-作用" aria-hidden="true">#</a> 1.作用</h3><p>​ <strong>实现依赖注入，spring容器会对bean中所有字段、方法、参数、构造器进行遍历，标注有@Autowired注解的，都会进行注入。</strong></p><p>看一下其定义：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">CONSTRUCTOR</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">PARAMETER</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION_TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Autowired</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Declares whether the annotated dependency is required.
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Defaults to <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token boolean">true</span></span></span><span class="token punctuation">}</span>.
     */</span>
    <span class="token keyword">boolean</span> <span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以用在构造器、方法、方法参数、字段、注解上。</p><p>参数：</p><p>required：标注的对象是否必须注入，可能这个对象在容器中不存在，如果为true的时候，找不到匹配的候选者就会报错，为false的时候，找不到也没关系 。</p></blockquote><h3 id="_2-查找候选者过程" tabindex="-1"><a class="header-anchor" href="#_2-查找候选者过程" aria-hidden="true">#</a> 2.查找候选者过程</h3><h4 id="autowired标注在字段上面-假定字段类型为一个自定义的普通的类型-候选者查找过程如下" tabindex="-1"><a class="header-anchor" href="#autowired标注在字段上面-假定字段类型为一个自定义的普通的类型-候选者查找过程如下" aria-hidden="true">#</a> @Autowired标注在字段上面：假定字段类型为一个自定义的普通的类型，候选者查找过程如下</h4><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/3af48a79-ea90-48d5-9135-bde85a800b38.jpg" alt="" loading="lazy"></p><h4 id="autowired标注在方法上或者方法参数上面-假定参数类型为为一个自定义的普通的类型-候选者查找过程如下" tabindex="-1"><a class="header-anchor" href="#autowired标注在方法上或者方法参数上面-假定参数类型为为一个自定义的普通的类型-候选者查找过程如下" aria-hidden="true">#</a> @Autowired标注在方法上或者方法参数上面：假定参数类型为为一个自定义的普通的类型，候选者查找过程如下：</h4><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/a028c875-f470-4fdf-abfa-63b1b2aa06ae.jpg" alt="" loading="lazy"></p><p>上图中深色的表示方法注入和字段注入查找过程的不同点。</p><p>上图中展示的是方法中只有一个参数的情况，如果有多个参数，就重复上面的过程，直到找到所有需要注入的参数。</p><h4 id="将指定类型的所有bean注入到collection中" tabindex="-1"><a class="header-anchor" href="#将指定类型的所有bean注入到collection中" aria-hidden="true">#</a> 将指定类型的所有bean注入到Collection中</h4><p>如果被注入的对象是Collection类型的，可以指定泛型的类型，然后会按照上面的方式查找所有满足泛型类型所有的bean</p><h4 id="将指定类型的所有bean注入到map中" tabindex="-1"><a class="header-anchor" href="#将指定类型的所有bean注入到map中" aria-hidden="true">#</a> 将指定类型的所有bean注入到Map中</h4><p>如果被注入的对象是Map类型的，可以指定泛型的类型，key通常为String类型，value为需要查找的bean的类型，然后会按照上面方式查找所有注入value类型的bean，将bean的name作为key，bean对象作为value，放在HashMap中，然后注入。</p><h4 id="autowired查找候选者可以简化为下面这样" tabindex="-1"><a class="header-anchor" href="#autowired查找候选者可以简化为下面这样" aria-hidden="true">#</a> @Autowired查找候选者可以简化为下面这样</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>按类型找-&gt;通过限定符@Qualifier过滤-&gt;@Primary-&gt;@Priority-&gt;根据名称找（字段名称或者参数名称）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>概括为：先按类型找，然后按名称找</strong></p><h3 id="案例1-autowired标注在构造器上-通过构造器注入依赖对象" tabindex="-1"><a class="header-anchor" href="#案例1-autowired标注在构造器上-通过构造器注入依赖对象" aria-hidden="true">#</a> 案例1：@Autowired标注在构造器上，通过构造器注入依赖对象</h3><h4 id="service1" tabindex="-1"><a class="header-anchor" href="#service1" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test0</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2" tabindex="-1"><a class="header-anchor" href="#service2" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test0</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;无参构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@2</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;有参构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@2</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Service2中依赖于Service1，有2个构造方法</p><p>@1：无参构造器</p><p>@2：有参构造器，可以通过这个传入依赖的Service1</p><p>@3：重写了toString方法，一会打印测试的时候方便查看</p></blockquote><h4 id="来个总的配置文件" tabindex="-1"><a class="header-anchor" href="#来个总的配置文件" aria-hidden="true">#</a> 来个总的配置文件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test0</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span> <span class="token comment">//@1</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig0</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：会自动扫描当前类所在的包，会将Service1和Service2注册到容器。</p></blockquote><h4 id="来个测试用例" tabindex="-1"><a class="header-anchor" href="#来个测试用例" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test0<span class="token punctuation">.</span></span><span class="token class-name">MainConfig0</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig0</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>main方法中启动容器，加载MainConfig0配置类，然后输出容器中所有的bean</p></blockquote><h4 id="运行部分输出" tabindex="-1"><a class="header-anchor" href="#运行部分输出" aria-hidden="true">#</a> 运行部分输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class com.javacode2018.lesson001.demo26.test0.Service2无参构造器
service1-&gt;com.javacode2018.lesson001.demo26.test0.Service1@4a94ee4
service2-&gt;Service2{service1=null}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出中可以看出调用了Service2的无参构造器，service2中的service1为null</p><h4 id="通过-autowired指定注入的构造器" tabindex="-1"><a class="header-anchor" href="#通过-autowired指定注入的构造器" aria-hidden="true">#</a> 通过@Autowired指定注入的构造器</h4><p>在Service2有参有参构造器上面加上@Autowired注解，如下：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">public</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;有参构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="再次运行test0" tabindex="-1"><a class="header-anchor" href="#再次运行test0" aria-hidden="true">#</a> 再次运行test0()</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class com.javacode2018.lesson001.demo26.test0.Service2有参构造器
service1-&gt;com.javacode2018.lesson001.demo26.test0.Service1@4ec4f3a0
service2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test0.Service1@4ec4f3a0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Service2有参构造器被调用了，service2中的service1有值了。</p><h3 id="案例2-autowired标注在方法上-通过方法注入依赖的对象" tabindex="-1"><a class="header-anchor" href="#案例2-autowired标注在方法上-通过方法注入依赖的对象" aria-hidden="true">#</a> 案例2：@Autowired标注在方法上，通过方法注入依赖的对象</h3><h4 id="service1-1" tabindex="-1"><a class="header-anchor" href="#service1-1" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test1</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-1" tabindex="-1"><a class="header-anchor" href="#service2-1" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test1</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">injectService1</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.injectService1()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：方法上标注了@Autowired，spring容器会调用这个方法，从容器中查找Service1类型的bean，然后注入。</p></blockquote><h4 id="来个总的配置文件-1" tabindex="-1"><a class="header-anchor" href="#来个总的配置文件-1" aria-hidden="true">#</a> 来个总的配置文件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test1</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-1" tabindex="-1"><a class="header-anchor" href="#来个测试用例-1" aria-hidden="true">#</a> 来个测试用例</h4><p>InjectTest中加个方法</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出" tabindex="-1"><a class="header-anchor" href="#运行输出" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>com.javacode2018.lesson001.demo26.test1.Service2.injectService1()
service1-&gt;com.javacode2018.lesson001.demo26.test1.Service1@9597028
service2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test1.Service1@9597028}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>通过injectService1方法成功注入service1</p></blockquote><h3 id="案例3-autowired标注在setter方法上-通过setter方法注入" tabindex="-1"><a class="header-anchor" href="#案例3-autowired标注在setter方法上-通过setter方法注入" aria-hidden="true">#</a> 案例3：@Autowired标注在setter方法上，通过setter方法注入</h3><p>上面2种通过构造器，和通过普通的一个方法注入，不是很常见，可以将@Autowired标注在set方法上面，来注入指定的对象</p><h4 id="service1-2" tabindex="-1"><a class="header-anchor" href="#service1-2" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test2</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-2" tabindex="-1"><a class="header-anchor" href="#service2-2" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test2</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setService1</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.setService1方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：标准的set方法，方法上使用了 @Autowired，会通过这个方法注入Service1类型的bean对象。</p></blockquote><h4 id="来个总的配置文件-2" tabindex="-1"><a class="header-anchor" href="#来个总的配置文件-2" aria-hidden="true">#</a> 来个总的配置文件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test2</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-2" tabindex="-1"><a class="header-anchor" href="#来个测试用例-2" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-1" tabindex="-1"><a class="header-anchor" href="#运行输出-1" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>com.javacode2018.lesson001.demo26.test2.Service2.setService1方法
service1-&gt;com.javacode2018.lesson001.demo26.test2.Service1@6069db50
service2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test2.Service1@6069db50}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例4-autowired标注在方法参数上" tabindex="-1"><a class="header-anchor" href="#案例4-autowired标注在方法参数上" aria-hidden="true">#</a> 案例4：@Autowired标注在方法参数上</h3><h4 id="service1-3" tabindex="-1"><a class="header-anchor" href="#service1-3" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test3</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-3" tabindex="-1"><a class="header-anchor" href="#service2-3" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test3</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">injectService1</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s.injectService1(),{service1=%s,name=%s}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> service1<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：方法上标注了@Autowired，表示会将这个方法作为注入方法，这个方法有2个参数，spring查找这2个参数对应的bean，然后注入。</p><p>第一个参数对应的bean是存在的，第二个是一个String类型的，我们并没有定义String类型bean，一会看看效果</p></blockquote><h4 id="来个总的配置文件-3" tabindex="-1"><a class="header-anchor" href="#来个总的配置文件-3" aria-hidden="true">#</a> 来个总的配置文件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test3</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig3</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-3" tabindex="-1"><a class="header-anchor" href="#来个测试用例-3" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig3</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-2" tabindex="-1"><a class="header-anchor" href="#运行输出-2" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;service2&#39;: Unsatisfied dependency expressed through method &#39;injectService1&#39; parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>报错了，从错误信息中可以看出，通过injectService1方法注入的时候，第二个参数为String类型，spring从容器中没有找到String类型的候选bean，所以报错了。</p></blockquote><h4 id="我们可以这么做" tabindex="-1"><a class="header-anchor" href="#我们可以这么做" aria-hidden="true">#</a> 我们可以这么做</h4><p><strong>多个参数的时候，方法上面的@Autowire默认对方法中所有参数起效，如果我们想对某个参数进行特定的配置，可以在参数上加上@Autowired，这个配置会覆盖方法上面的@Autowired配置。</strong></p><p>在第二个参数上面加上@Autowired，设置required为false：表示这个bean不是强制注入的，能找到就注入，找不到就注入一个null对象，调整一下代码，如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@Autowiredpublic void injectService1(Service1 service1, @Autowired(required = false) String name) { //@1    System.out.println(String.format(&quot;%s.injectService1(),{service1=%s,name=%s}&quot;, this.getClass().getName(), service1, name));    this.service1 = service1;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>此时方法的第一个参数被方法上面的@Autowired约束</p><p>第二个参数受@Autowired(required = false)约束</p></blockquote><h4 id="再次运行输出" tabindex="-1"><a class="header-anchor" href="#再次运行输出" aria-hidden="true">#</a> 再次运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>com.javacode2018.lesson001.demo26.test3.Service2.injectService1(),{service1=com.javacode2018.lesson001.demo26.test3.Service1@59309333,name=null}service1-&gt;com.javacode2018.lesson001.demo26.test3.Service1@59309333service2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test3.Service1@59309333}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>注入成功了，service1有值，name为null</p></blockquote><h3 id="案例5-autowired用在字段上" tabindex="-1"><a class="header-anchor" href="#案例5-autowired用在字段上" aria-hidden="true">#</a> 案例5：@Autowired用在字段上</h3><h4 id="service1-4" tabindex="-1"><a class="header-anchor" href="#service1-4" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test4</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-4" tabindex="-1"><a class="header-anchor" href="#service2-4" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test4</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service3" tabindex="-1"><a class="header-anchor" href="#service3" aria-hidden="true">#</a> Service3</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test4</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service3</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span><span class="token comment">//@1</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Service2</span> service2<span class="token punctuation">;</span><span class="token comment">//@2</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service3{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token string">&quot;, service2=&quot;</span> <span class="token operator">+</span> service2 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1和@2：定义了2个字段，上面都标注了@Autowired，spring会去容器中按照类型查找这2种类型的bean，然后设置给这2个属性。</p></blockquote><h4 id="来个总的配置文件-4" tabindex="-1"><a class="header-anchor" href="#来个总的配置文件-4" aria-hidden="true">#</a> 来个总的配置文件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test4</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig4</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-4" tabindex="-1"><a class="header-anchor" href="#来个测试用例-4" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig4</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-3" tabindex="-1"><a class="header-anchor" href="#运行输出-3" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service1-&gt;com.javacode2018.lesson001.demo26.test4.Service1@7e07db1f
service2-&gt;com.javacode2018.lesson001.demo26.test4.Service2@1189dd52
service3-&gt;Service3{service1=com.javacode2018.lesson001.demo26.test4.Service1@7e07db1f, service2=com.javacode2018.lesson001.demo26.test4.Service2@1189dd52}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>service3中标注@Autowired的2个属性都有值了，都被注入成功了。</p></blockquote><h3 id="案例6-autowire标注字段-多个候选者的时候-按字段名称注入" tabindex="-1"><a class="header-anchor" href="#案例6-autowire标注字段-多个候选者的时候-按字段名称注入" aria-hidden="true">#</a> 案例6：@Autowire标注字段，多个候选者的时候，按字段名称注入</h3><h4 id="iservice接口" tabindex="-1"><a class="header-anchor" href="#iservice接口" aria-hidden="true">#</a> IService接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test5</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="接口来2个实现" tabindex="-1"><a class="header-anchor" href="#接口来2个实现" aria-hidden="true">#</a> 接口来2个实现</h4><p>2个实现类上都标注了@Component注解，都会被注册到容器中。</p><h5 id="service0" tabindex="-1"><a class="header-anchor" href="#service0" aria-hidden="true">#</a> Service0</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test5</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service0</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="service1-5" tabindex="-1"><a class="header-anchor" href="#service1-5" aria-hidden="true">#</a> Service1</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test5;
import org.springframework.stereotype.Component;
@Component
public class Service1 implements IService {
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个service2" tabindex="-1"><a class="header-anchor" href="#来个service2" aria-hidden="true">#</a> 来个Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test5</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> service1<span class="token punctuation">;</span> <span class="token comment">//@1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：标注了@Autowired注解，需要注入类型为IService类型的bean，满足这种类型的有2个：service0和service1</p><p>按照上面介绍的候选者查找过程，最后会注入和字段名称一样的bean，即：service1</p></blockquote><h4 id="来个总的配置类-负责扫描当前包中的组件" tabindex="-1"><a class="header-anchor" href="#来个总的配置类-负责扫描当前包中的组件" aria-hidden="true">#</a> 来个总的配置类，负责扫描当前包中的组件</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test5</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig5</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-5" tabindex="-1"><a class="header-anchor" href="#来个测试用例-5" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig5</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-4" tabindex="-1"><a class="header-anchor" href="#运行输出-4" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service0-&gt;com.javacode2018.lesson001.demo26.test5.Service0@36902638
service1-&gt;com.javacode2018.lesson001.demo26.test5.Service1@223d2c72
service2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test5.Service1@223d2c72}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意最后一行，service2中的service1被注入了bean：service1</p></blockquote><h3 id="案例7-将指定类型的所有bean-注入到collection、map中" tabindex="-1"><a class="header-anchor" href="#案例7-将指定类型的所有bean-注入到collection、map中" aria-hidden="true">#</a> 案例7：将指定类型的所有bean，注入到Collection、Map中</h3><h4 id="注入到collection中" tabindex="-1"><a class="header-anchor" href="#注入到collection中" aria-hidden="true">#</a> 注入到Collection中</h4><p><strong>被注入的类型为Collection类型或者Collection子接口类型，注意必须是接口类型</strong>，如：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>会在容器中找到所有IService类型的bean，放到这个集合中</strong>。</p><h4 id="注入到map中" tabindex="-1"><a class="header-anchor" href="#注入到map中" aria-hidden="true">#</a> 注入到Map中</h4><p><strong>被注入的类型为Map类型或者Map子接口类型，注意必须是接口类型</strong>，如：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>会在容器中找到所有IService类型的bean，放到这个Map中，key为bean的名称，value为bean对象</strong>。</p><p>来看案例代码。</p><h4 id="来个接口" tabindex="-1"><a class="header-anchor" href="#来个接口" aria-hidden="true">#</a> 来个接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test6</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来2个实现类-标注-component注解" tabindex="-1"><a class="header-anchor" href="#来2个实现类-标注-component注解" aria-hidden="true">#</a> 来2个实现类，标注@Component注解</h4><h5 id="service0-1" tabindex="-1"><a class="header-anchor" href="#service0-1" aria-hidden="true">#</a> Service0</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test6</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service0</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="service1-6" tabindex="-1"><a class="header-anchor" href="#service1-6" aria-hidden="true">#</a> Service1</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test6</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="再来个类service2" tabindex="-1"><a class="header-anchor" href="#再来个类service2" aria-hidden="true">#</a> 再来个类Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test6</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span> services<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span> serviceMap<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service2{\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;services=&quot;</span> <span class="token operator">+</span> services <span class="token operator">+</span>
                <span class="token string">&quot;, \n serviceMap=&quot;</span> <span class="token operator">+</span> serviceMap <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：注入IService类型的所有bean</p><p>@2：注入一个map</p></blockquote><h4 id="来个总的配置类" tabindex="-1"><a class="header-anchor" href="#来个总的配置类" aria-hidden="true">#</a> 来个总的配置类</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test6</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig6</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-6" tabindex="-1"><a class="header-anchor" href="#来个测试用例-6" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test6</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig6</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-5" tabindex="-1"><a class="header-anchor" href="#运行输出-5" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service0-&gt;com.javacode2018.lesson001.demo26.test6.Service0@1189dd52
service1-&gt;com.javacode2018.lesson001.demo26.test6.Service1@36bc55de
service2-&gt;Service2{
services=[com.javacode2018.lesson001.demo26.test6.Service0@1189dd52, com.javacode2018.lesson001.demo26.test6.Service1@36bc55de], 
 serviceMap={service0=com.javacode2018.lesson001.demo26.test6.Service0@1189dd52, service1=com.javacode2018.lesson001.demo26.test6.Service1@36bc55de}}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意看一下上面services和serviceMap的值。</p></blockquote><h3 id="autowired源码" tabindex="-1"><a class="header-anchor" href="#autowired源码" aria-hidden="true">#</a> @Autowired源码</h3><p>spring使用下面这个类处理@Autowired注解</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-resource-注意依赖对象" tabindex="-1"><a class="header-anchor" href="#_2-resource-注意依赖对象" aria-hidden="true">#</a> 2-@Resource：注意依赖对象</h2><h3 id="作用" tabindex="-1"><a class="header-anchor" href="#作用" aria-hidden="true">#</a> 作用</h3><p><strong>和@Autowired注解类似，也是用来注入依赖的对象的，spring容器会对bean中所有字段、方法进行遍历，标注有@Resource注解的，都会进行注入。</strong></p><p>看一下这个注解定义：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span>Resource</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token constant">FIELD</span><span class="token punctuation">,</span> <span class="token constant">METHOD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Resource</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>其他不常用的参数省略
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这个注解是javax中定义的，并不是spring中定义的注解。</p><p>从定义上可以见，这个注解可以用在任何类型上面、字段、方法上面。</p><p>注意点：</p><p><strong>用在方法上的时候，方法参数只能有一个。</strong></p></blockquote><h3 id="resource查找候选者的过程" tabindex="-1"><a class="header-anchor" href="#resource查找候选者的过程" aria-hidden="true">#</a> @Resource查找候选者的过程</h3><p><strong>查找过程有点复杂，看不懂的可以先跳过，先看后面案例，本文看完之后，可以回头再来看这个过程。</strong></p><h4 id="resource标注在字段上面-假定字段类型为一个自定义的普通的类型-候选者查找过程如下" tabindex="-1"><a class="header-anchor" href="#resource标注在字段上面-假定字段类型为一个自定义的普通的类型-候选者查找过程如下" aria-hidden="true">#</a> @Resource标注在字段上面：假定字段类型为一个自定义的普通的类型，候选者查找过程如下</h4><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/1.jpg" alt="" loading="lazy"></p><h4 id="autowired标注在方法上或者方法参数上面-假定参数类型为为一个自定义的普通的类型-候选者查找过程如下-1" tabindex="-1"><a class="header-anchor" href="#autowired标注在方法上或者方法参数上面-假定参数类型为为一个自定义的普通的类型-候选者查找过程如下-1" aria-hidden="true">#</a> @Autowired标注在方法上或者方法参数上面：假定参数类型为为一个自定义的普通的类型，候选者查找过程如下：</h4><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/6346a4e4-747d-4b8d-bdba-a45123611256.jpg" alt="" loading="lazy"></p><h4 id="将指定类型的所有bean注入到collection中-1" tabindex="-1"><a class="header-anchor" href="#将指定类型的所有bean注入到collection中-1" aria-hidden="true">#</a> 将指定类型的所有bean注入到Collection中</h4><p>如果被注入的对象是Collection类型的，可以指定泛型的类型，然后会按照上面的方式查找所有满足泛型类型所有的bean</p><h4 id="将指定类型的所有bean注入到map中-1" tabindex="-1"><a class="header-anchor" href="#将指定类型的所有bean注入到map中-1" aria-hidden="true">#</a> 将指定类型的所有bean注入到Map中</h4><p>如果被注入的对象是Map类型的，可以指定泛型的类型，key通常为String类型，value为需要查找的bean的类型，然后会按照上面方式查找所有注入value类型的bean，将bean的name作为key，bean对象作为value，放在HashMap中，然后注入。</p><h4 id="resource查找候选者可以简化为" tabindex="-1"><a class="header-anchor" href="#resource查找候选者可以简化为" aria-hidden="true">#</a> @Resource查找候选者可以简化为</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>先按Resource的name值作为bean名称找-&gt;按名称（字段名称、方法名称、set属性名称）找-&gt;按类型找-&gt;通过限定符@Qualifier过滤-&gt;@Primary-&gt;@Priority-&gt;根据名称找（字段名称或者方法参数名称）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>概括为：先按名称找，然后按类型找</strong></p><h3 id="案例1-将-resource标注在字段上" tabindex="-1"><a class="header-anchor" href="#案例1-将-resource标注在字段上" aria-hidden="true">#</a> 案例1：将@Resource标注在字段上</h3><h4 id="iservice接口-1" tabindex="-1"><a class="header-anchor" href="#iservice接口-1" aria-hidden="true">#</a> IService接口</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test7;public interface IService {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2个实现类" tabindex="-1"><a class="header-anchor" href="#_2个实现类" aria-hidden="true">#</a> 2个实现类</h4><h5 id="service0-2" tabindex="-1"><a class="header-anchor" href="#service0-2" aria-hidden="true">#</a> Service0</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test7;import org.springframework.stereotype.Component;@Componentpublic class Service0 implements IService {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>@Component标注的bean名称默认为service0</p></blockquote><h5 id="service1-7" tabindex="-1"><a class="header-anchor" href="#service1-7" aria-hidden="true">#</a> Service1</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test7;import org.springframework.stereotype.Component;@Componentpublic class Service1 implements IService {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>@Component标注的bean名称默认为service1</p></blockquote><p>再来一个类</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test7;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;import javax.annotation.Resource;import java.util.List;import java.util.Map;@Componentpublic class Service2 {    @Resource    private IService service1;//@1    @Override    public String toString() {        return &quot;Service2{&quot; +                &quot;service1=&quot; + service1 +                &#39;}&#39;;    }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>@1：字段名称为service1，按照字段名称查找bean，会找到Service1</p></blockquote><h4 id="来个配置类" tabindex="-1"><a class="header-anchor" href="#来个配置类" aria-hidden="true">#</a> 来个配置类</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package com.javacode2018.lesson001.demo26.test7;import org.springframework.context.annotation.ComponentScan;@ComponentScanpublic class MainConfig7 {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="测试用例" tabindex="-1"><a class="header-anchor" href="#测试用例" aria-hidden="true">#</a> 测试用例</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@Testpublic void test7() {    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MainConfig7.class);    for (String beanName : context.getBeanDefinitionNames()) {        System.out.println(String.format(&quot;%s-&gt;%s&quot;, beanName, context.getBean(beanName)));    }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="运行输出-6" tabindex="-1"><a class="header-anchor" href="#运行输出-6" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service0-&gt;com.javacode2018.lesson001.demo26.test7.Service0@222545dcservice1-&gt;com.javacode2018.lesson001.demo26.test7.Service1@5c5eefefservice2-&gt;Service2{service1=com.javacode2018.lesson001.demo26.test7.Service1@5c5eefef}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>最后一行可以看出注入了service1</p></blockquote><h4 id="如果将service2中的代码调整一下" tabindex="-1"><a class="header-anchor" href="#如果将service2中的代码调整一下" aria-hidden="true">#</a> 如果将Service2中的代码调整一下</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>@Resourceprivate IService service0;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>此时会注入service0这个bean</p></blockquote><p>同样@Resource可以用在方法上，也可以将所有类型的bean注入到Collection、Map中，这里就不演示了，重点了解一下候选者查找的过程，使用上就比较简单了，@Resource的其他案例，大家可以自己写写练练。</p><p>下面来说另外几个注解，也是比较重要的。</p><h3 id="resource源码" tabindex="-1"><a class="header-anchor" href="#resource源码" aria-hidden="true">#</a> @Resource源码</h3><p>spring使用下面这个类处理@Resource注解</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>org.springframework.context.annotation.CommonAnnotationBeanPostProcessor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-qualifier-限定符" tabindex="-1"><a class="header-anchor" href="#_3-qualifier-限定符" aria-hidden="true">#</a> 3-@Qualifier：限定符</h2><h3 id="作用-1" tabindex="-1"><a class="header-anchor" href="#作用-1" aria-hidden="true">#</a> 作用</h3><p>这个单词的意思是：限定符。</p><p><strong>可以在依赖注入查找候选者的过程中对候选者进行过滤。</strong></p><p>看一下其定义：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">PARAMETER</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION_TYPE</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Qualifier</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以用在字段、方法、参数、任意类型、注解上面</p><p>有一个参数value</p></blockquote><p>还是来看案例，通过案例理解更容易。</p><h3 id="案例1-用在类上" tabindex="-1"><a class="header-anchor" href="#案例1-用在类上" aria-hidden="true">#</a> 案例1：用在类上</h3><p>用在类上，你可以理解为给通过@Qulifier给这个bean打了一个标签。</p><h4 id="先来一个接口" tabindex="-1"><a class="header-anchor" href="#先来一个接口" aria-hidden="true">#</a> 先来一个接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来3个实现类" tabindex="-1"><a class="header-anchor" href="#来3个实现类" aria-hidden="true">#</a> 来3个实现类</h4><p><strong>前2个@Qulifier的value为tag1，第3个实现类为tag2</strong></p><h4 id="service1-8" tabindex="-1"><a class="header-anchor" href="#service1-8" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@1</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：tag1</p></blockquote><p>Service2</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：tag1</p></blockquote><h4 id="service3-1" tabindex="-1"><a class="header-anchor" href="#service3-1" aria-hidden="true">#</a> Service3</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag2&quot;</span><span class="token punctuation">)</span><span class="token comment">//@1</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service3</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：tag2</p></blockquote><h4 id="来一个类-来注入上面几个bean" tabindex="-1"><a class="header-anchor" href="#来一个类-来注入上面几个bean" aria-hidden="true">#</a> 来一个类，来注入上面几个bean</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@1</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span> serviceMap1<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag2&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@2</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span> serviceMap2<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;serviceMap1=&quot;</span> <span class="token operator">+</span> serviceMap1 <span class="token operator">+</span>
                <span class="token string">&quot;, serviceMap2=&quot;</span> <span class="token operator">+</span> serviceMap2 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：限定符的值为tag1，此时会将类上限定符为tag1的所有bean注入进来</p><p>@2：限定符的值为tag2，此时会将类上限定符为tag2的所有bean注入进来</p></blockquote><h4 id="来个配置类-1" tabindex="-1"><a class="header-anchor" href="#来个配置类-1" aria-hidden="true">#</a> 来个配置类</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test8</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig8</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="测试用例-1" tabindex="-1"><a class="header-anchor" href="#测试用例-1" aria-hidden="true">#</a> 测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test8</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig8</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行输出</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>injectService-&gt;InjectService{serviceMap1={service1=com.javacode2018.lesson001.demo26.test8.Service1@9597028, service2=com.javacode2018.lesson001.demo26.test8.Service2@6069db50}, serviceMap2={service3=com.javacode2018.lesson001.demo26.test8.Service3@4efbca5a}}
service1-&gt;com.javacode2018.lesson001.demo26.test8.Service1@9597028
service2-&gt;com.javacode2018.lesson001.demo26.test8.Service2@6069db50
service3-&gt;com.javacode2018.lesson001.demo26.test8.Service3@4efbca5a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意第一行的输出，看一下serviceMap1和serviceMap2的值。</p><p>serviceMap1注入了@Qulifier的value为tag1的所有IService类型的bean</p><p>serviceMap1注入了@Qulifier的value为tag2的所有IService类型的bean</p><p>实现了bean分组的效果。</p></blockquote><h3 id="案例2-autowired结合-qulifier指定注入的bean" tabindex="-1"><a class="header-anchor" href="#案例2-autowired结合-qulifier指定注入的bean" aria-hidden="true">#</a> 案例2：@Autowired结合@Qulifier指定注入的bean</h3><p>被注入的类型有多个的时候，可以使用@Qulifier来指定需要注入那个bean，将@Qulifier的value设置为需要注入bean的名称</p><p>看案例代码</p><h4 id="来个接口-1" tabindex="-1"><a class="header-anchor" href="#来个接口-1" aria-hidden="true">#</a> 来个接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test9</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="有2个实现类" tabindex="-1"><a class="header-anchor" href="#有2个实现类" aria-hidden="true">#</a> 有2个实现类</h4><p>2个实现类上面没有使用@Qulifier注解了</p><h5 id="service1-9" tabindex="-1"><a class="header-anchor" href="#service1-9" aria-hidden="true">#</a> Service1</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test9</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="service2-5" tabindex="-1"><a class="header-anchor" href="#service2-5" aria-hidden="true">#</a> Service2</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test9</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>我们可以知道上面2个bean的名称分别为：service1、service2</p></blockquote><h4 id="来个类-注入iservice类型的bean" tabindex="-1"><a class="header-anchor" href="#来个类-注入iservice类型的bean" aria-hidden="true">#</a> 来个类，注入IService类型的bean</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test9</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;service2&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@1</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> service<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service=&quot;</span> <span class="token operator">+</span> service <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>@1：这里限定符的值为service2，容器中IService类型的bean有2个[service1和service2]，当类上没有标注@Qualifier注解的时候，可以理解为：bean的名称就是限定符的值，所以@1这里会匹配到service2</strong></p><h4 id="来个配置类-2" tabindex="-1"><a class="header-anchor" href="#来个配置类-2" aria-hidden="true">#</a> 来个配置类</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test9</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig9</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="来个测试用例-7" tabindex="-1"><a class="header-anchor" href="#来个测试用例-7" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test9</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig9</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-7" tabindex="-1"><a class="header-anchor" href="#运行输出-7" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>injectService-&gt;InjectService{service=com.javacode2018.lesson001.demo26.test9.Service2@223d2c72}
service1-&gt;com.javacode2018.lesson001.demo26.test9.Service1@8f4ea7c
service2-&gt;com.javacode2018.lesson001.demo26.test9.Service2@223d2c72
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>从第一行可以看出注入了service1</p></blockquote><h3 id="案例3-用在方法参数上" tabindex="-1"><a class="header-anchor" href="#案例3-用在方法参数上" aria-hidden="true">#</a> 案例3：用在方法参数上</h3><h4 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test10</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> s1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> s2<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">injectBean</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;service2&quot;</span><span class="token punctuation">)</span> <span class="token class-name">IService</span> s1<span class="token punctuation">,</span> <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;service1&quot;</span><span class="token punctuation">)</span> <span class="token class-name">IService</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;s1=&quot;</span> <span class="token operator">+</span> s1 <span class="token operator">+</span>
                <span class="token string">&quot;, s2=&quot;</span> <span class="token operator">+</span> s2 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：方法上标注了@Autowired注解，说明会被注入依赖，2个参数上分别使用了限定符来指定具体需要注入哪个bean</p></blockquote><h4 id="测试用例-2" tabindex="-1"><a class="header-anchor" href="#测试用例-2" aria-hidden="true">#</a> 测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test10</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig10</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-8" tabindex="-1"><a class="header-anchor" href="#运行输出-8" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>injectService-&gt;InjectService{s1=com.javacode2018.lesson001.demo26.test10.Service2@55183b20, s2=com.javacode2018.lesson001.demo26.test10.Service1@4f83df68}
service1-&gt;com.javacode2018.lesson001.demo26.test10.Service1@4f83df68
service2-&gt;com.javacode2018.lesson001.demo26.test10.Service2@55183b20
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>第一行中的</p><p>s1：service2</p><p>s2：service1</p></blockquote><h3 id="案例4-用在setter方法上" tabindex="-1"><a class="header-anchor" href="#案例4-用在setter方法上" aria-hidden="true">#</a> 案例4：用在setter方法上</h3><p>不管是用在setter方法还是普通方法上面，都是一样的效果</p><h4 id="代码-1" tabindex="-1"><a class="header-anchor" href="#代码-1" aria-hidden="true">#</a> 代码</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test11</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> s1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> s2<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;service2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setS1</span><span class="token punctuation">(</span><span class="token class-name">IService</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;service2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setS2</span><span class="token punctuation">(</span><span class="token class-name">IService</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;s1=&quot;</span> <span class="token operator">+</span> s1 <span class="token operator">+</span>
                <span class="token string">&quot;, s2=&quot;</span> <span class="token operator">+</span> s2 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面2个setter方法上都有@Autowired注解，并且结合了@Qulifier注解来限定需要注入哪个bean</p></blockquote><h4 id="测试用例-3" tabindex="-1"><a class="header-anchor" href="#测试用例-3" aria-hidden="true">#</a> 测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test11</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig11</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行输出</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>injectService-&gt;InjectService{s1=com.javacode2018.lesson001.demo26.test11.Service2@35e2d654, s2=com.javacode2018.lesson001.demo26.test11.Service2@35e2d654}
service1-&gt;com.javacode2018.lesson001.demo26.test11.Service1@1bd4fdd
service2-&gt;com.javacode2018.lesson001.demo26.test11.Service2@35e2d654
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>输出中可以看出：s1为service2，s2为service1</p></blockquote><h2 id="_4-primary-设置为主要候选者" tabindex="-1"><a class="header-anchor" href="#_4-primary-设置为主要候选者" aria-hidden="true">#</a> 4-@Primary：设置为主要候选者</h2><p>注入依赖的过程中，当有多个候选者的时候，可以指定哪个候选者为主要的候选者。</p><p>看一下其定义</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Primary</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以用在类上或者方法上面。</p><p>通常定义bean常见的有2种方式：</p><p>方式1：在类上标注@Component注解，此时可以配合@Primary，标注这个bean为主要候选者</p><p>方式2：在配置文件中使用@Bean注解标注方法，来注册bean，可以在@Bean标注的方法上加上@Primary，标注这个bean为主要候选bean。</p></blockquote><p>看案例。</p><h3 id="案例1-用在类上-1" tabindex="-1"><a class="header-anchor" href="#案例1-用在类上-1" aria-hidden="true">#</a> 案例1：用在类上</h3><h4 id="来个接口-2" tabindex="-1"><a class="header-anchor" href="#来个接口-2" aria-hidden="true">#</a> 来个接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test12</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2个实现类-1" tabindex="-1"><a class="header-anchor" href="#_2个实现类-1" aria-hidden="true">#</a> 2个实现类</h4><h5 id="service1-10" tabindex="-1"><a class="header-anchor" href="#service1-10" aria-hidden="true">#</a> Service1</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test12</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="service2-6" tabindex="-1"><a class="header-anchor" href="#service2-6" aria-hidden="true">#</a> Service2</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test12</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Primary</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Primary</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Service2上面使用了@Primary，表示这是个主要的候选者</p></blockquote><h4 id="再来个类-注入iservice类型的bean" tabindex="-1"><a class="header-anchor" href="#再来个类-注入iservice类型的bean" aria-hidden="true">#</a> 再来个类，注入IService类型的bean</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test12</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> service1<span class="token punctuation">;</span> <span class="token comment">//@1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：容器中IService类型的bean有2个，但是service2为主要的候选者，所以此处会注入service2</p></blockquote><h4 id="总的配置类" tabindex="-1"><a class="header-anchor" href="#总的配置类" aria-hidden="true">#</a> 总的配置类</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test12</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig12</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="测试用例-4" tabindex="-1"><a class="header-anchor" href="#测试用例-4" aria-hidden="true">#</a> 测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test12</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig12</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-9" tabindex="-1"><a class="header-anchor" href="#运行输出-9" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>injectService-&gt;InjectService{service1=com.javacode2018.lesson001.demo26.test12.Service2@49ec71f8}
service1-&gt;com.javacode2018.lesson001.demo26.test12.Service1@1d2adfbe
service2-&gt;com.javacode2018.lesson001.demo26.test12.Service2@49ec71f8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例2-用在方法上-结合-bean使用" tabindex="-1"><a class="header-anchor" href="#案例2-用在方法上-结合-bean使用" aria-hidden="true">#</a> 案例2：用在方法上，结合@Bean使用</h3><h4 id="来个接口-3" tabindex="-1"><a class="header-anchor" href="#来个接口-3" aria-hidden="true">#</a> 来个接口</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test13</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2个实现类-2" tabindex="-1"><a class="header-anchor" href="#_2个实现类-2" aria-hidden="true">#</a> 2个实现类</h4><h5 id="service1-11" tabindex="-1"><a class="header-anchor" href="#service1-11" aria-hidden="true">#</a> Service1</h5><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test13</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-7" tabindex="-1"><a class="header-anchor" href="#service2-7" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test13</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="injectservice" tabindex="-1"><a class="header-anchor" href="#injectservice" aria-hidden="true">#</a> InjectService</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test13</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InjectService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">IService</span> service1<span class="token punctuation">;</span><span class="token comment">//@1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;InjectService{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>使用了@Autowired，需要注入</p></blockquote><h4 id="来个配置类-通过-bean定义上面3个类型的bean" tabindex="-1"><a class="header-anchor" href="#来个配置类-通过-bean定义上面3个类型的bean" aria-hidden="true">#</a> 来个配置类，通过@Bean定义上面3个类型的bean</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test13</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Primary</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig13</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">IService</span> <span class="token function">service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@Primary</span> <span class="token comment">//@1</span>
    <span class="token keyword">public</span> <span class="token class-name">IService</span> <span class="token function">service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">InjectService</span> <span class="token function">injectService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">InjectService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面是一个配置类，定义了3个bean</p><p>@1：这个bean被标注为主要的候选者</p></blockquote><h4 id="来个测试用例-8" tabindex="-1"><a class="header-anchor" href="#来个测试用例-8" aria-hidden="true">#</a> 来个测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test13</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig13</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-10" tabindex="-1"><a class="header-anchor" href="#运行输出-10" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service1-&gt;com.javacode2018.lesson001.demo26.test13.Service1@6913c1fbservice2-&gt;com.javacode2018.lesson001.demo26.test13.Service2@66d18979injectService-&gt;InjectService{service1=com.javacode2018.lesson001.demo26.test13.Service2@66d18979}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>注意最后一行，service1注入的是service2这个bean</p></blockquote><h2 id="_5-bean定义bean时注入依赖的几种方式" tabindex="-1"><a class="header-anchor" href="#_5-bean定义bean时注入依赖的几种方式" aria-hidden="true">#</a> 5-@Bean定义bean时注入依赖的几种方式</h2><h3 id="常见3种方式" tabindex="-1"><a class="header-anchor" href="#常见3种方式" aria-hidden="true">#</a> 常见3种方式</h3><ol><li>硬编码方式</li><li>@Autowired、@Resource的方式</li><li>@Bean标注的方法参数的方式</li></ol><h3 id="方式1-硬编码方式" tabindex="-1"><a class="header-anchor" href="#方式1-硬编码方式" aria-hidden="true">#</a> 方式1：硬编码方式</h3><p>来3个类</p><h4 id="service1-12" tabindex="-1"><a class="header-anchor" href="#service1-12" aria-hidden="true">#</a> Service1</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service2-8" tabindex="-1"><a class="header-anchor" href="#service2-8" aria-hidden="true">#</a> Service2</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service3-2" tabindex="-1"><a class="header-anchor" href="#service3-2" aria-hidden="true">#</a> Service3</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service3</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Service1</span> service1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Service2</span> service2<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Service1</span> <span class="token function">getService1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setService1</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> service1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service1 <span class="token operator">=</span> service1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span> <span class="token function">getService2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> service2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setService2</span><span class="token punctuation">(</span><span class="token class-name">Service2</span> service2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>service2 <span class="token operator">=</span> service2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Service3{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;service1=&quot;</span> <span class="token operator">+</span> service1 <span class="token operator">+</span>
                <span class="token string">&quot;, service2=&quot;</span> <span class="token operator">+</span> service2 <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面类中会用到service1和service2，提供了对应的setter方法，一会我们通过setter方法注入依赖对象</p></blockquote><h4 id="来个配置类-通过-bean的方式创建上面对象" tabindex="-1"><a class="header-anchor" href="#来个配置类-通过-bean的方式创建上面对象" aria-hidden="true">#</a> 来个配置类，通过@Bean的方式创建上面对象</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig14</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service1</span> <span class="token function">service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span> <span class="token function">service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service3</span> <span class="token function">service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Service3</span> service3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@0</span>
        service3<span class="token punctuation">.</span><span class="token function">setService1</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@1</span>
        service3<span class="token punctuation">.</span><span class="token function">setService2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@2</span>
        <span class="token keyword">return</span> service3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面代码中通过@Bean定义了3个bean</p><p>Service3中需要用到Service1和Service2，注意@1和@2直接调用当前方法获取另外2个bean，注入到service3中</p></blockquote><h4 id="测试用例-5" tabindex="-1"><a class="header-anchor" href="#测试用例-5" aria-hidden="true">#</a> 测试用例</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test14</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig14</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行输出-11" tabindex="-1"><a class="header-anchor" href="#运行输出-11" aria-hidden="true">#</a> 运行输出</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service1-&gt;com.javacode2018.lesson001.demo26.test14.Service1@41a2befb
service2-&gt;com.javacode2018.lesson001.demo26.test14.Service2@6c40365c
service3-&gt;Service3{service1=com.javacode2018.lesson001.demo26.test14.Service1@41a2befb, service2=com.javacode2018.lesson001.demo26.test14.Service2@6c40365c}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方式2-autowired、-resource的方式" tabindex="-1"><a class="header-anchor" href="#方式2-autowired、-resource的方式" aria-hidden="true">#</a> 方式2：@Autowired、@Resource的方式</h3><p>这种方式就不讲了直接在需要注入的对象上面加上这2个注解的任意一个就行了，可以参考文章前面的部分。</p><h3 id="方式3-bean标注的方法使用参数来进行注入" tabindex="-1"><a class="header-anchor" href="#方式3-bean标注的方法使用参数来进行注入" aria-hidden="true">#</a> 方式3：@Bean标注的方法使用参数来进行注入</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test15</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14<span class="token punctuation">.</span></span><span class="token class-name">Service1</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14<span class="token punctuation">.</span></span><span class="token class-name">Service2</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test14<span class="token punctuation">.</span></span><span class="token class-name">Service3</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig15</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service1</span> <span class="token function">service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span> <span class="token function">service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Service3</span> <span class="token function">service3</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> s1<span class="token punctuation">,</span> <span class="token class-name">Service2</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@0</span>
        <span class="token class-name">Service3</span> service3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service3<span class="token punctuation">.</span><span class="token function">setService1</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@1</span>
        service3<span class="token punctuation">.</span><span class="token function">setService2</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@2</span>
        <span class="token keyword">return</span> service3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@0：这个地方是关键，方法上标注了@Bean，并且方法中是有参数的，spring调用这个方法创建bean的时候，会将参数中的两个参数注入进来。</p><p>注入对象的查找逻辑可以参考上面@Autowired标注方法时查找候选者的逻辑。</p></blockquote><p>来个测试用例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test15</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig15</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行输出</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service1-&gt;com.javacode2018.lesson001.demo26.test14.Service1@4009e306
service2-&gt;com.javacode2018.lesson001.demo26.test14.Service2@43c1b556
service3-&gt;Service3{service1=com.javacode2018.lesson001.demo26.test14.Service1@4009e306, service2=com.javacode2018.lesson001.demo26.test14.Service2@43c1b556}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同样注入成功了。</p><h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h3><h4 id="bean标注的方法参数上使用-autowired注解" tabindex="-1"><a class="header-anchor" href="#bean标注的方法参数上使用-autowired注解" aria-hidden="true">#</a> @Bean标注的方法参数上使用@Autowired注解</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Service3</span> <span class="token function">service3_0</span><span class="token punctuation">(</span><span class="token class-name">Service1</span> s1<span class="token punctuation">,</span> <span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">Service2</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@0</span>
    <span class="token class-name">Service3</span> service3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    service3<span class="token punctuation">.</span><span class="token function">setService1</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@1</span>
    service3<span class="token punctuation">.</span><span class="token function">setService2</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//@2</span>
    <span class="token keyword">return</span> service3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@0：方法由2个参数，第二个参数上标注了@Autowired(required = false)，说明第二个参数候选者不是必须的，找不到会注入一个null对象；第一个参数候选者是必须的，找不到会抛出异常</p></blockquote><h4 id="bean结合-qualifier" tabindex="-1"><a class="header-anchor" href="#bean结合-qualifier" aria-hidden="true">#</a> @Bean结合@Qualifier</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test17</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig17</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@1</span>
    <span class="token keyword">public</span> <span class="token class-name">Service1</span> <span class="token function">service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@2</span>
    <span class="token keyword">public</span> <span class="token class-name">Service2</span> <span class="token function">service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag2&quot;</span><span class="token punctuation">)</span> <span class="token comment">//@3</span>
    <span class="token keyword">public</span> <span class="token class-name">Service3</span> <span class="token function">service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Service3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">InjectService</span> <span class="token function">injectService</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">IService</span><span class="token punctuation">&gt;</span></span> map1<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//@4</span>
        <span class="token class-name">InjectService</span> injectService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InjectService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        injectService<span class="token punctuation">.</span><span class="token function">setServiceMap1</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> injectService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Service1,Service2,Service3都实现了IService接口</p><p>@1,@2,@3这3个方法上面使用了@Bean注解，用来定义3个bean，这3个方法上还是用了@Qualifier注解，用来给这些bean定义标签，service1()方法类似于下面的写法：</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Compontent</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;tag1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Service1</span> <span class="token keyword">implements</span> <span class="token class-name">IService</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>再回到MainConfig17中的@4：参数中需要注入Map&lt;String, IService&gt;，会查找IService类型的bean，容器中有3个，但是这个参数前面加上了@Qualifier限定符，值为tag1，所以会通过这个过滤，最后满足的候选者为：[service1,service]</p></blockquote><p>对应测试用例</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test17</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig17</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanName <span class="token operator">:</span> context<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s-&gt;%s&quot;</span><span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行输出</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>service1-&gt;com.javacode2018.lesson001.demo26.test17.Service1@1190200a
service2-&gt;com.javacode2018.lesson001.demo26.test17.Service2@6a2f6f80
service3-&gt;com.javacode2018.lesson001.demo26.test17.Service3@45b4c3a9
injectService-&gt;InjectService{serviceMap1={service1=com.javacode2018.lesson001.demo26.test17.Service1@1190200a, service2=com.javacode2018.lesson001.demo26.test17.Service2@6a2f6f80}, serviceMap2=null}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意最后一行serviceMap1，注入了service1和service2</p></blockquote><h2 id="_6-泛型注入" tabindex="-1"><a class="header-anchor" href="#_6-泛型注入" aria-hidden="true">#</a> 6-泛型注入</h2><h3 id="先来2个普通的类" tabindex="-1"><a class="header-anchor" href="#先来2个普通的类" aria-hidden="true">#</a> 先来2个普通的类</h3><h4 id="usermodel" tabindex="-1"><a class="header-anchor" href="#usermodel" aria-hidden="true">#</a> UserModel</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserModel</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ordermodel" tabindex="-1"><a class="header-anchor" href="#ordermodel" aria-hidden="true">#</a> OrderModel</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderModel</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>记住上面2个普通的类UserModel和OrderModel，一会下面会用到。</p><h3 id="来个泛型接口" tabindex="-1"><a class="header-anchor" href="#来个泛型接口" aria-hidden="true">#</a> 来个泛型接口</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面是个泛型类，类名后面后尖括号</p></blockquote><h3 id="来2个实现类" tabindex="-1"><a class="header-anchor" href="#来2个实现类" aria-hidden="true">#</a> 来2个实现类</h3><p>两个实现类都会标注@Compontent，交给spring容器管理</p><h4 id="userdao" tabindex="-1"><a class="header-anchor" href="#userdao" aria-hidden="true">#</a> UserDao</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token keyword">implements</span> <span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserModel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token comment">//@1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：指定了IDao后面泛型的类型为UserModel</p></blockquote><h4 id="orderdao" tabindex="-1"><a class="header-anchor" href="#orderdao" aria-hidden="true">#</a> OrderDao</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderDao</span> <span class="token keyword">implements</span> <span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderModel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token comment">//@1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：指定了IDao后面泛型的类型为OrderModel</p></blockquote><h3 id="在来个泛型类型" tabindex="-1"><a class="header-anchor" href="#在来个泛型类型" aria-hidden="true">#</a> 在来个泛型类型</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> dao<span class="token punctuation">;</span> <span class="token comment">//@1</span>
    <span class="token keyword">public</span> <span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDao</span><span class="token punctuation">(</span><span class="token class-name">IDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> dao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dao <span class="token operator">=</span> dao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>BaseService同样是个泛型类</p><p>@1：这个地方要注意了，上面使用了@Autowired，来注入IDao对象</p></blockquote><h3 id="baseservice来2个子类" tabindex="-1"><a class="header-anchor" href="#baseservice来2个子类" aria-hidden="true">#</a> BaseService来2个子类</h3><p>两个子类都会标注@Compontent，交给spring容器管理</p><h4 id="userservice" tabindex="-1"><a class="header-anchor" href="#userservice" aria-hidden="true">#</a> UserService</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserModel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token comment">//@1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：指定了BaseService后面泛型的类型为UserModel</p></blockquote><h4 id="orderservice" tabindex="-1"><a class="header-anchor" href="#orderservice" aria-hidden="true">#</a> OrderService</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderModel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token comment">//@1</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@1：指定了BaseService后面泛型的类型为OrderModel</p></blockquote><p><strong>UserService和OrderService继承了BaseService，所以一会BaseService中的dao属性会被注入，一会我们关注一下dao这个属性的值，会是什么样的</strong></p><h3 id="来个总的配置类-1" tabindex="-1"><a class="header-anchor" href="#来个总的配置类-1" aria-hidden="true">#</a> 来个总的配置类</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javacode2018<span class="token punctuation">.</span>lesson001<span class="token punctuation">.</span>demo26<span class="token punctuation">.</span>test18</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@ComponentScan</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainConfig18</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面有@CompontentScan注解，会自动扫描当前包中的所有类，并进行自动注入</p></blockquote><h3 id="来个测试用例-9" tabindex="-1"><a class="header-anchor" href="#来个测试用例-9" aria-hidden="true">#</a> 来个测试用例</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test18</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MainConfig18</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">OrderService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面代码中会将两个service中的dao输出，我们来看一下效果</p></blockquote><h3 id="运行输出-12" tabindex="-1"><a class="header-anchor" href="#运行输出-12" aria-hidden="true">#</a> 运行输出</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>com.javacode2018.lesson001.demo26.test18.UserDao@6adbc9d
com.javacode2018.lesson001.demo26.test18.OrderDao@4550bb58
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>结果就是重点了，dao属性并没有指定具体需要注入那个bean，此时是根据尖括号中的泛型类型来匹配的，这个功能也是相当厉害的。</p></blockquote><h2 id="_7-总结" tabindex="-1"><a class="header-anchor" href="#_7-总结" aria-hidden="true">#</a> 7-总结</h2><ol><li>需要掌握@Autowired注解和@Resource注解中候选者查找的过程</li><li>@Autowired：先通过类型找，然后通过名称找</li><li>@Resource：先通过名称找，然后通过类型找</li><li>@Autowired和@Resource，建议开发中使用@Autowired来实现依赖注入，spring的注解用起来更名正言顺一些</li><li>@Qulifier：限定符，可以用在类上；也可以用在依赖注入的地方，可以对候选者的查找进行过滤</li><li>@Primary：多个候选者的时候，可以标注某个候选者为主要的候选者</li><li>@Bean中注入依赖的3种方式需要掌握</li><li>掌握泛型注入的使用</li><li><strong>主要还是掌握候选者的查找过程，过程熟悉了，其他的都是小意思，回头再去看看上面的几个查找的流程图。</strong></li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/pages/Spring/Spring/4-DI相关注解.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 842830066@qq.com">huluhutu</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/huluhutublog/pages/Spring/Spring/3-IOC%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3.html" class="nav-link prev" aria-label="IOC相关注解"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->IOC相关注解</div></a><a href="/huluhutublog/pages/Spring/Spring/5-%20%E6%9C%89%E5%85%B3Bean%E7%89%B9%E6%80%A7%E7%9A%84%E6%B3%A8%E8%A7%A3.html" class="nav-link next" aria-label="有关Bean特性的注解"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">有关Bean特性的注解<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">默认页脚</div><div class="copyright">Copyright © 2022 huluhutu</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/huluhutublog/assets/app.0662e65c.js" defer></script>
  </body>
</html>
