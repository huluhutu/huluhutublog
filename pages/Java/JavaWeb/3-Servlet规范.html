<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html"><meta property="og:site_name" content="huluhutublog"><meta property="og:title" content="Servletè§„èŒƒ"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><link rel="icon" href="/huluhutublog/favicon.ico"><link rel="icon" href="/huluhutublog/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/huluhutublog/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/huluhutublog/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/huluhutublog/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/huluhutublog/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/huluhutublog/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/huluhutublog/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Servletè§„èŒƒ | huluhutublog</title><meta name="description" content="That is my Blog!!!">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/huluhutublog/assets/style.dc69c01e.css">
    <link rel="modulepreload" href="/huluhutublog/assets/app.0662e65c.js"><link rel="modulepreload" href="/huluhutublog/assets/3-Servletè§„èŒƒ.html.e802c476.js"><link rel="modulepreload" href="/huluhutublog/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/huluhutublog/assets/3-Servletè§„èŒƒ.html.2c4d4c05.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/huluhutublog/" class="brand"><img class="logo" src="/huluhutublog/logo.svg" alt="huluhutublog"><!----><span class="site-name hide-in-pad">huluhutublog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/huluhutublog/" class="nav-link" aria-label="HULUHUTU"><span class="icon iconfont icon-home"></span>HULUHUTU<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é¢è¯•"><span class="title"><span class="icon iconfont icon-note"></span>é¢è¯•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Interviews/Java/" class="nav-link" aria-label="Java"><!---->Java<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è®¡ç®—æœºåŸºç¡€"><span class="title"><span class="icon iconfont icon-note"></span>è®¡ç®—æœºåŸºç¡€</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/DataStructuresAndAlgorithms/" class="nav-link" aria-label="æ•°æ®ç»“æ„ä¸ç®—æ³•"><!---->æ•°æ®ç»“æ„ä¸ç®—æ³•<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/ComputerNetwork/" class="nav-link" aria-label="è®¡ç®—æœºç½‘ç»œ"><!---->è®¡ç®—æœºç½‘ç»œ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/OperatingSystem/" class="nav-link" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/PrinciplesOfComputerOrganization/" class="nav-link" aria-label="è®¡ç®—æœºç»„æˆåŸç†"><!---->è®¡ç®—æœºç»„æˆåŸç†<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/PrinciplesOfDatabase/" class="nav-link" aria-label="æ•°æ®åº“åŸç†"><!---->æ•°æ®åº“åŸç†<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/FundamentalsOfComputerScience/DesignPatterns/" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-note"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaBase/" class="nav-link" aria-label="JavaåŸºç¡€"><!---->JavaåŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaIO/" class="nav-link" aria-label="JavaIO"><!---->JavaIO<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaCollection/" class="nav-link" aria-label="Javaé›†åˆ"><!---->Javaé›†åˆ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JavaConcurrent/" class="nav-link" aria-label="Javaå¹¶å‘ç¼–ç¨‹"><!---->Javaå¹¶å‘ç¼–ç¨‹<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Java/JVM/JVM.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-note"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/DB/MySQL/" class="nav-link" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DB/Redis/" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring"><span class="title"><span class="icon iconfont icon-note"></span>Spring</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/Spring/" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringMVC/" class="nav-link" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringBoot/" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Spring/SpringCloud/" class="nav-link" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><span class="title"><span class="icon iconfont icon-note"></span>æ¶ˆæ¯é˜Ÿåˆ—</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/RabbitMQ/" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/RocketMQ/" class="nav-link" aria-label="RocketMQ"><!---->RocketMQ<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/MQ/Kafka/" class="nav-link" aria-label="Kafka"><!---->Kafka<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åˆ†å¸ƒå¼"><span class="title"><span class="icon iconfont icon-note"></span>åˆ†å¸ƒå¼</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Distributed/Artritecture/" class="nav-link" aria-label="æ¶æ„"><!---->æ¶æ„<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/Distributed/Distributed/" class="nav-link" aria-label="åˆ†å¸ƒå¼ç†è®º"><!---->åˆ†å¸ƒå¼ç†è®º<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title"><span class="icon iconfont icon-note"></span>å¼€å‘å·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Git/" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Linux/" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Docker/" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><a href="/huluhutublog/pages/DevelopmentTools/Maven/" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é¡¹ç›®"><span class="title"><span class="icon iconfont icon-note"></span>é¡¹ç›®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Project/SwiftHome/" class="nav-link" aria-label="å¿«æ·åˆ°å®¶"><!---->å¿«æ·åˆ°å®¶<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="éƒ¨ç½²"><span class="title"><span class="icon iconfont icon-note"></span>éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/huluhutublog/pages/Deploy/Blog/" class="nav-link" aria-label="vuepress"><!---->vuepress<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">JavaåŸºç¡€</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">JavaIO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">Javaé›†åˆ</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">Javaå¹¶å‘</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">JVM</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Servletè§„èŒƒ</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">huluhutu</a></span><span property="author" content="huluhutu"></span></span><!----><!----><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 26 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT26M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_1-servletæ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level2">1-Servletæ¦‚è¿°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_1ã€-ä»€ä¹ˆæ˜¯-servlet" class="router-link-active router-link-exact-active toc-link level3">1ã€ ä»€ä¹ˆæ˜¯ Servlet</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_2ã€-ä»€ä¹ˆæ˜¯-servlet-å®¹å™¨" class="router-link-active router-link-exact-active toc-link level3">2ã€ ä»€ä¹ˆæ˜¯ Servlet å®¹å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_3ã€-ä¸€ä¸ªä¾‹å­" class="router-link-active router-link-exact-active toc-link level3">3ã€ ä¸€ä¸ªä¾‹å­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_4ã€servletæ¶æ„" class="router-link-active router-link-exact-active toc-link level3">4ã€Servletæ¶æ„</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_2-servletæ ¸å¿ƒæŠ€æœ¯" class="router-link-active router-link-exact-active toc-link level2">2-Servletæ ¸å¿ƒæŠ€æœ¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_1ã€servletåŠ è½½æ—¶æœº" class="router-link-active router-link-exact-active toc-link level3">1ã€ServletåŠ è½½æ—¶æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_2ã€servletçš„ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active toc-link level3">2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_3ã€å®ç°ä¸€ä¸ªservlet" class="router-link-active router-link-exact-active toc-link level3">3ã€å®ç°ä¸€ä¸ªServlet</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_3-servletåŒ¹é…è§„åˆ™" class="router-link-active router-link-exact-active toc-link level2">3-ServletåŒ¹é…è§„åˆ™</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_1ã€å››ç§åŒ¹é…è§„åˆ™" class="router-link-active router-link-exact-active toc-link level3">1ã€å››ç§åŒ¹é…è§„åˆ™</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_2ã€åŒ¹é…é¡ºåº" class="router-link-active router-link-exact-active toc-link level3">2ã€åŒ¹é…é¡ºåº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_3ã€éœ€è¦æ³¨æ„çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">3ã€éœ€è¦æ³¨æ„çš„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_4ã€ä¸¾ä¾‹" class="router-link-active router-link-exact-active toc-link level3">4ã€ä¸¾ä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_4-è¯·æ±‚å’Œå“åº”" class="router-link-active router-link-exact-active toc-link level2">4-è¯·æ±‚å’Œå“åº”</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_1ã€è¯·æ±‚-reques" class="router-link-active router-link-exact-active toc-link level3">1ã€è¯·æ±‚-reques</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_2ã€å“åº”-response" class="router-link-active router-link-exact-active toc-link level3">2ã€å“åº”-response</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_3ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">3ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_4ã€sessionå’Œcookie" class="router-link-active router-link-exact-active toc-link level3">4ã€sessionå’Œcookie</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/huluhutublog/pages/Java/JavaWeb/3-Servlet%E8%A7%84%E8%8C%83.html#_5ã€servletä¸‰å¤§åŸŸå¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">5ã€Servletä¸‰å¤§åŸŸå¯¹è±¡</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="servletè§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#servletè§„èŒƒ" aria-hidden="true">#</a> Servletè§„èŒƒ</h1><h2 id="_1-servletæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-servletæ¦‚è¿°" aria-hidden="true">#</a> 1-Servletæ¦‚è¿°</h2><h3 id="_1ã€-ä»€ä¹ˆæ˜¯-servlet" tabindex="-1"><a class="header-anchor" href="#_1ã€-ä»€ä¹ˆæ˜¯-servlet" aria-hidden="true">#</a> 1ã€ ä»€ä¹ˆæ˜¯ Servlet</h3><p>â€‹ Servlet æ˜¯åŸºäº Jakarta æŠ€æœ¯çš„ Web ç»„ä»¶ï¼Œç”±å®¹å™¨ç®¡ç†ï¼Œå¯ç”ŸæˆåŠ¨æ€å†…å®¹ã€‚ä¸å…¶ä»–åŸºäº Jakarta æŠ€æœ¯çš„ç»„ä»¶ä¸€æ ·ï¼Œservlet æ˜¯ç‹¬ç«‹äºå¹³å°çš„ Java ç±»ï¼Œå®ƒä»¬è¢«ç¼–è¯‘ä¸ºä¸å¹³å°æ— å…³çš„å­—èŠ‚ç ï¼Œè¿™äº›å­—èŠ‚ç å¯ä»¥åŠ¨æ€åŠ è½½åˆ°æ”¯æŒ Jakarta æŠ€æœ¯çš„ Web æœåŠ¡å™¨ä¸­å¹¶ç”±å…¶è¿è¡Œã€‚å®¹å™¨ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸º servlet å¼•æ“ï¼Œæ˜¯æä¾› servlet åŠŸèƒ½çš„ Web æœåŠ¡å™¨æ‰©å±•ã€‚Servlet é€šè¿‡ servlet å®¹å™¨å®ç°çš„è¯·æ±‚/å“åº”èŒƒå¼ä¸ Web å®¢æˆ·ç«¯äº¤äº’ã€‚</p><h3 id="_2ã€-ä»€ä¹ˆæ˜¯-servlet-å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_2ã€-ä»€ä¹ˆæ˜¯-servlet-å®¹å™¨" aria-hidden="true">#</a> 2ã€ ä»€ä¹ˆæ˜¯ Servlet å®¹å™¨</h3><p>â€‹ Servlet å®¹å™¨æ˜¯ Web æœåŠ¡å™¨æˆ–åº”ç”¨ç¨‹åºæœåŠ¡å™¨çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›å‘é€è¯·æ±‚å’Œå“åº”çš„ç½‘ç»œæœåŠ¡ã€è§£ç åŸºäº MIME çš„è¯·æ±‚ä»¥åŠæ ¼å¼åŒ–åŸºäº MIME çš„å“åº”ã€‚Servlet å®¹å™¨è¿˜é€šè¿‡å…¶ç”Ÿå‘½å‘¨æœŸåŒ…å«å’Œç®¡ç† Servletã€‚</p><p>Servlet å®¹å™¨å¯ä»¥å†…ç½®åˆ°ä¸»æœº Web æœåŠ¡å™¨ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¯¥æœåŠ¡å™¨çš„æœ¬æœºæ‰©å±• API ä½œä¸ºé™„åŠ ç»„ä»¶å®‰è£…åˆ° Web æœåŠ¡å™¨ã€‚Servlet å®¹å™¨ä¹Ÿå¯ä»¥å†…ç½®äºæˆ–å¯èƒ½å®‰è£…åœ¨æ”¯æŒ Web çš„åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­ã€‚</p><p>â€‹ æ‰€æœ‰ Servlet å®¹å™¨éƒ½å¿…é¡»æ”¯æŒ HTTP ä½œä¸ºè¯·æ±‚å’Œå“åº”çš„åè®®ï¼Œä½†å¯ä»¥æ”¯æŒå…¶ä»–åŸºäºè¯·æ±‚/å“åº”çš„åè®®ï¼Œä¾‹å¦‚ HTTPSï¼ˆåŸºäº SSL çš„ HTTPï¼‰ã€‚å®¹å™¨å¿…é¡»å®ç°çš„ HTTP è§„èŒƒçš„å¿…éœ€ç‰ˆæœ¬æ˜¯ HTTP/1.1 å’Œ HTTP/2ã€‚</p><p>â€‹ Java SE 8 æ˜¯å¿…é¡»ç”¨æ¥æ„å»º Servlet å®¹å™¨çš„åº•å±‚ Java å¹³å°çš„æœ€ä½ç‰ˆæœ¬ã€‚</p><h3 id="_3ã€-ä¸€ä¸ªä¾‹å­" tabindex="-1"><a class="header-anchor" href="#_3ã€-ä¸€ä¸ªä¾‹å­" aria-hidden="true">#</a> 3ã€ ä¸€ä¸ªä¾‹å­</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„äº‹ä»¶åºåˆ—ï¼š</p><ol><li>å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ï¼ŒWeb æµè§ˆå™¨ï¼‰è®¿é—® Web æœåŠ¡å™¨å¹¶å‘å‡º HTTP è¯·æ±‚ã€‚</li><li>è¯·æ±‚ç”± Web æœåŠ¡å™¨æ¥æ”¶å¹¶ä¼ é€’ç»™ Servlet å®¹å™¨ã€‚Servlet å®¹å™¨å¯ä»¥åœ¨ä¸ä¸»æœº Web æœåŠ¡å™¨ç›¸åŒçš„è¿›ç¨‹ä¸­è¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šçš„ä¸åŒè¿›ç¨‹ä¸­è¿è¡Œï¼Œæˆ–è€…åœ¨ä¸å…¶å¤„ç†è¯·æ±‚çš„ Web æœåŠ¡å™¨ä¸åŒçš„ä¸»æœºä¸Šè¿è¡Œã€‚</li><li>Servlet å®¹å™¨æ ¹æ®å…¶Servlet çš„é…ç½®ç¡®å®šè°ƒç”¨å“ªä¸ª Servletï¼Œå¹¶ä½¿ç”¨ä»£è¡¨è¯·æ±‚å’Œå“åº”çš„å¯¹è±¡è°ƒç”¨å®ƒã€‚</li><li>Servlet ä½¿ç”¨è¯·æ±‚å¯¹è±¡æ¥æ‰¾å‡ºè¿œç¨‹ç”¨æˆ·æ˜¯è°ã€<code>POST</code>ä½œä¸ºæ­¤è¯·æ±‚çš„ä¸€éƒ¨åˆ†å‘é€çš„HTTPå‚æ•°ä»¥åŠå…¶ä»–ç›¸å…³æ•°æ®ã€‚Servlet æ‰§è¡Œå®ƒç¼–ç¨‹çš„ä»»ä½•é€»è¾‘ï¼Œå¹¶ç”Ÿæˆæ•°æ®å‘é€å›å®¢æˆ·ç«¯ã€‚å®ƒé€šè¿‡å“åº”å¯¹è±¡å°†æ­¤æ•°æ®å‘é€å›å®¢æˆ·ç«¯ã€‚</li><li>Servlet å¤„ç†å®Œè¯·æ±‚åï¼ŒServlet å®¹å™¨ä¼šç¡®ä¿æ­£ç¡®åˆ·æ–°å“åº”ï¼Œå¹¶å°†æ§åˆ¶æƒè¿”å›ç»™ä¸»æœº Web æœåŠ¡å™¨ã€‚</li></ol><h3 id="_4ã€servletæ¶æ„" tabindex="-1"><a class="header-anchor" href="#_4ã€servletæ¶æ„" aria-hidden="true">#</a> 4ã€Servletæ¶æ„</h3><p>ä¸‹å›¾å±•ç¤ºäº†Servletåœ¨Webåº”ç”¨ç¨‹åºä¸­çš„ä½ç½®ï¼š</p><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/16195800-4a4a95212f177d2f.png" alt="img" loading="lazy"></p><h2 id="_2-servletæ ¸å¿ƒæŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#_2-servletæ ¸å¿ƒæŠ€æœ¯" aria-hidden="true">#</a> 2-Servletæ ¸å¿ƒæŠ€æœ¯</h2><h3 id="_1ã€servletåŠ è½½æ—¶æœº" tabindex="-1"><a class="header-anchor" href="#_1ã€servletåŠ è½½æ—¶æœº" aria-hidden="true">#</a> 1ã€ServletåŠ è½½æ—¶æœº</h3><p>â€‹ åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“Webå®¢æˆ·<strong>ç¬¬ä¸€æ¬¡è¯·æ±‚è®¿é—®æŸä¸ªServletæ—¶ï¼ŒWebå®¹å™¨ä¼šåˆ›å»ºè¿™ä¸ªServletçš„å®ä¾‹ã€‚</strong> å½“è®¾ç½®äº†web.xmlä¸­çš„å­å…ƒç´ åï¼ŒServletå®¹å™¨åœ¨å¯åŠ¨Webåº”ç”¨æ—¶ï¼Œå°†æŒ‰ç…§æŒ‡å®šé¡ºåºåˆ›å»ºå¹¶åˆå§‹åŒ–è¿™ä¸ªServletã€‚è®¾ç½®çš„æ•°å€¼<strong>å¤§äº0</strong>å³å¯ã€‚ä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.ydlclass.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€servletçš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_2ã€servletçš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> 2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ</h3><p>å…ˆçœ‹ä¸Servletç”Ÿå‘½å‘¨æœŸæœ‰å…³çš„ä¸‰ä¸ªæ–¹æ³•ï¼šinit(), service(), destroy(). Servletç”Ÿå‘½å‘¨æœŸå¯è¢«å®šä¹‰ä¸ºä»åˆ›å»ºç›´åˆ°æ¯ç­çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«å¯¹åº”çš„Servletè¿‡ç¨‹ï¼š</p><ul><li>init()ï¼šServletè¿›è¡Œåˆå§‹åŒ–ï¼›</li><li>service()ï¼šServletå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›</li><li>destroy()ï¼šServletç»“æŸï¼Œé‡Šæ”¾èµ„æºï¼›</li></ul><p>åœ¨è°ƒç”¨destroy()æ–¹æ³•åï¼ŒServletç”±JVMçš„åƒåœ¾å›é¦–å™¨è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æ¥è¯¦ç»†è®¨è®ºServletç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ï¼š</p><blockquote><p>init()æ–¹æ³•ï¼š</p></blockquote><p>â€‹ Servletè¢«è£…è½½åï¼ŒServletå®¹å™¨åˆ›å»ºä¸€ä¸ªServletå®ä¾‹å¹¶ä¸”è°ƒç”¨Servletçš„init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–åœ¨Servletç”Ÿå‘½å‘¨æœŸä¸­init()æ–¹æ³•<strong>åªè¢«è°ƒç”¨ä¸€æ¬¡</strong>ã€‚</p><p>â€‹ å½“ç”¨æˆ·è°ƒç”¨ä¸€ä¸ªServletæ—¶ï¼ŒServletå®¹å™¨å°±ä¼šåˆ›å»ºä¸€ä¸ªServletå®ä¾‹ï¼Œ<strong>æ¯ä¸€ä¸ªç”¨æˆ·è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹</strong>ï¼Œinit()æ–¹æ³•ç®€å•çš„åˆ›å»ºæˆ–åŠ è½½ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®å°†ä¼šè¢«ç”¨åœ¨Servletçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p><p>init()æ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆå§‹åŒ–ä»£ç ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>service()æ–¹æ³•ï¼š</p></blockquote><p>â€‹ service()æ–¹æ³•æ˜¯æ‰§è¡Œå®é™…ä»»åŠ¡çš„ä¸»è¦æ–¹æ³•ã€‚Servlet å®¹å™¨ï¼ˆå³ Web æœåŠ¡å™¨ï¼‰è°ƒç”¨ service()æ–¹æ³•æ¥å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰çš„è¯·æ±‚ï¼Œå¹¶æŠŠæ ¼å¼åŒ–çš„å“åº”å†™å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>â€‹ æ¯æ¬¡æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ª Servlet è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹å¹¶è°ƒç”¨æœåŠ¡ã€‚service()æ–¹æ³•æ£€æŸ¥ HTTP è¯·æ±‚ç±»å‹ï¼ˆGETã€POSTã€PUTã€DELETE ç­‰ï¼‰ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨doGet()ã€doPost()ç­‰æ–¹æ³•ã€‚</p><p>service()çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span> 
    <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
<span class="token comment">// service()ä»£ç ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>destroy()æ–¹æ³•ï¼š</p></blockquote><p>â€‹ destroy()æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨Servletç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è¢«è°ƒç”¨ã€‚destroy()æ–¹æ³•å¯ä»¥è®©Servletå…³é—­æ•°æ®åº“è¿æ¥ã€åœæ­¢åå°ã€æŠŠcookieåˆ—è¡¨æˆ–ç‚¹å‡»è®¡æ•°å™¨å†™å…¥åˆ°ç£ç›˜ï¼Œå¹¶æ‰§è¡Œå…¶ä»–ç±»ä¼¼çš„æ¸…ç†æ´»åŠ¨ã€‚ åœ¨è°ƒç”¨destroy()æ–¹æ³•ä¹‹åï¼ŒServletå¯¹è±¡è¢«æ ‡è®°ä¸ºåƒåœ¾å›æ”¶ã€‚</p><p>destroy()æ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç»ˆæ­¢åŒ–ä»£ç ...</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ€»ç»“ï¼š</strong></p><ul><li>åœ¨é¦–æ¬¡è®¿é—®æŸä¸ªServletæ—¶ï¼Œinit()æ–¹æ³•ä¼šè¢«æ‰§è¡Œï¼Œè€Œä¸”ä¹Ÿä¼šæ‰§è¡Œservice()æ–¹æ³•ã€‚</li><li>å†æ¬¡è®¿é—®æ—¶ï¼Œåªä¼šæ‰§è¡Œservice()æ–¹æ³•ï¼Œä¸å†æ‰§è¡Œinit()æ–¹æ³•ã€‚</li><li>åœ¨å…³é—­Webå®¹å™¨æ—¶ä¼šè°ƒç”¨destroy()æ–¹æ³•ã€‚</li></ul><h3 id="_3ã€å®ç°ä¸€ä¸ªservlet" tabindex="-1"><a class="header-anchor" href="#_3ã€å®ç°ä¸€ä¸ªservlet" aria-hidden="true">#</a> 3ã€å®ç°ä¸€ä¸ªServlet</h3><p>â€‹ å½“æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚ï¼Œå°±è¦æœ‰ä¸€ä¸ªServletå»å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥å®Œæˆä¸€ä¸ªServleté€šå¸¸éœ€è¦ä¸¤æ­¥èµ°ã€‚ä¸€æ–¹é¢è¦å†™ä¸€ä¸ªjavaç¨‹åºå®šä¹‰ä¸€ä¸ªServletï¼Œå¦ä¸€æ–¹é¢è¦é…ç½®ä¸€ä¸‹Servletç¡®å®šè¿™ä¸ªServletè¦å¤„ç†å“ªä¸€ä¸ªè¯·æ±‚ã€‚</p><h4 id="_1-åˆ›å»ºservletçš„ä¸‰ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-åˆ›å»ºservletçš„ä¸‰ç§æ–¹å¼" aria-hidden="true">#</a> <strong>ï¼ˆ1ï¼‰åˆ›å»ºServletçš„ä¸‰ç§æ–¹å¼</strong></h4><ul><li>å®ç°javax.servlet.Servletæ¥å£ã€‚</li><li>ç»§æ‰¿javax.servlet.GenericServletç±»ã€‚</li><li>ç»§æ‰¿javax.servlet.http.HttpServletç±»ã€‚</li></ul><p>æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨ç¬¬ä¸‰ç§æ–¹æ³•æ¥è¿›è¡ŒServletçš„åˆ›å»ºï¼Œå‰ä¸¤ç§æ–¹æ³•ç†è§£å³å¯ã€‚</p><p>**æ³¨æ„ï¼š**åˆ›å»ºServletæ–‡ä»¶åï¼Œéœ€è¦åœ¨web.xmlæ–‡ä»¶ä¸­å®ŒæˆServleté…ç½®ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚</p><p>é€šè¿‡å®ç°Servletæ¥å£ï¼Œè¿™ä¸ªæ¥å£å®šä¹‰äº†servletçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€æœ‰çš„æ–¹æ³•éœ€è¦æˆ‘ä»¬å®ç°ã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        servletResponse<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;hello servlet&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>GenericServlet</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">GenericServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">,</span> <span class="token class-name">ServletConfig</span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">transient</span> <span class="token class-name">ServletConfig</span> config<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">GenericServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> var1<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> var2<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        servletResponse<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;hello servlet&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Httpåªæ˜¯ä¼šæ ¹æ®è¯·æ±‚çš„ç±»å‹è¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">// Source code recreated from a .class file by IntelliJ IDEA</span>
<span class="token comment">// (powered by Fernflower decompiler)</span>
<span class="token comment">//</span>

<span class="token keyword">package</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">MessageFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Enumeration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ResourceBundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">DispatcherType</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">GenericServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">HttpServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{</span>


    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> protocol <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;http.method_get_not_supported&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>protocol<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;1.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token number">405</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">long</span> <span class="token function">getLastModified</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> protocol <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;http.method_post_not_supported&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>protocol<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;1.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token number">405</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

	<span class="token comment">// è¿˜æ˜¯ä¼šè°ƒç”¨å®ƒï¼Œåªæ˜¯ä¼šæ ¹æ®è¯·æ±‚çš„ç±»å‹è¿›è¡Œç‰¹æ®Šçš„è°ƒç”¨</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> lastModified<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lastModified <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLastModified</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>lastModified <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">long</span> ifModifiedSince<span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    ifModifiedSince <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getDateHeader</span><span class="token punctuation">(</span><span class="token string">&quot;If-Modified-Since&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> var9<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    ifModifiedSince <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>ifModifiedSince <span class="token operator">&lt;</span> lastModified <span class="token operator">/</span> <span class="token number">1000L</span> <span class="token operator">*</span> <span class="token number">1000L</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maybeSetLastModified</span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> lastModified<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">304</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;HEAD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lastModified <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLastModified</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">maybeSetLastModified</span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> lastModified<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doHead</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;PUT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPut</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doDelete</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;OPTIONS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doOptions</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;TRACE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doTrace</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> errMsg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;http.method_not_implemented&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> errArgs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>method<span class="token punctuation">}</span><span class="token punctuation">;</span>
            errMsg <span class="token operator">=</span> <span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>errMsg<span class="token punctuation">,</span> errArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token number">501</span><span class="token punctuation">,</span> errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>HttpServletRequestå’ŒServletRequestéƒ½æ˜¯æ¥å£</p><p>HttpServletRequestç»§æ‰¿è‡ªServletRequest</p><p>HttpServletRequestæ¯”ServletRequestå¤šäº†ä¸€äº›é’ˆå¯¹äºHttpåè®®çš„æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼š</p><p>getHeader()ï¼Œ getMethod() ï¼Œ getSession()</p><h2 id="_3-servletåŒ¹é…è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_3-servletåŒ¹é…è§„åˆ™" aria-hidden="true">#</a> 3-ServletåŒ¹é…è§„åˆ™</h2><h3 id="_1ã€å››ç§åŒ¹é…è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_1ã€å››ç§åŒ¹é…è§„åˆ™" aria-hidden="true">#</a> 1ã€å››ç§åŒ¹é…è§„åˆ™</h3><h4 id="_1-ç²¾ç¡®åŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_1-ç²¾ç¡®åŒ¹é…" aria-hidden="true">#</a> ï¼ˆ1ï¼‰ <strong>ç²¾ç¡®åŒ¹é…</strong></h4><p>&lt;url-pattern&gt;ä¸­é…ç½®çš„é¡¹å¿…é¡»ä¸urlå®Œå…¨ç²¾ç¡®åŒ¹é…ã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/user/users.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/user/addUser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“åœ¨æµè§ˆå™¨ä¸­è¾“å…¥å¦‚ä¸‹å‡ ç§urlæ—¶ï¼Œéƒ½ä¼šè¢«åŒ¹é…åˆ°è¯¥servlet ã€€ã€€<a href="http://localhost:8080/appDemo/user/users.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/users.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€€ã€€<a href="http://localhost:8080/appDemo/index.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ã€€ã€€<a href="http://localhost:8080/appDemo/user/addUser" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/addUser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>æ³¨æ„ï¼š</p><p><a href="http://localhost:8080/appDemo/user/addUser?username=Tom&amp;age=23" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/addUser?username=Tom&amp;age=23<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¼šè¢«åŒ¹é…åˆ°MyServletã€‚</p><h4 id="_2-è·¯å¾„åŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_2-è·¯å¾„åŒ¹é…" aria-hidden="true">#</a> ï¼ˆ2ï¼‰ è·¯å¾„åŒ¹é…</h4><p><strong>ä»¥â€œ/â€å­—ç¬¦å¼€å¤´ï¼Œå¹¶ä»¥â€œ/*â€ç»“å°¾çš„å­—ç¬¦ä¸²ç”¨äºè·¯å¾„åŒ¹é…</strong></p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/user/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è·¯å¾„ä»¥/user/å¼€å§‹ï¼Œåé¢çš„è·¯å¾„å¯ä»¥ä»»æ„ã€‚æ¯”å¦‚ä¸‹é¢çš„urléƒ½ä¼šè¢«åŒ¹é…ã€‚</p><ul><li><a href="http://localhost:8080/appDemo/user/users.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/users.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://localhost:8080/appDemo/user/addUser" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/addUser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://localhost:8080/appDemo/user/bb//sdf/sdf/sdf/updateUser" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/bb//sdf/sdf/sdf/updateUser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h4 id="_3-æ‰©å±•ååŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_3-æ‰©å±•ååŒ¹é…" aria-hidden="true">#</a> ï¼ˆ3ï¼‰æ‰©å±•ååŒ¹é…</h4><p><strong>ä»¥â€œ*.â€å¼€å¤´çš„å­—ç¬¦ä¸²è¢«ç”¨äºæ‰©å±•ååŒ¹é…</strong></p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™ä»»ä½•æ‰©å±•åä¸ºjspæˆ–actionçš„urlè¯·æ±‚éƒ½ä¼šåŒ¹é…ï¼Œæ¯”å¦‚ä¸‹é¢çš„urléƒ½ä¼šè¢«åŒ¹é…</p><ul><li><a href="http://localhost:8080/appDemo/user/users.jsp" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/user/users.jsp<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://localhost:8080/appDemo/toHome.action" target="_blank" rel="noopener noreferrer">http://localhost:8080/appDemo/toHome.action<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h4 id="_4-ç¼ºçœåŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_4-ç¼ºçœåŒ¹é…" aria-hidden="true">#</a> ï¼ˆ4ï¼‰ ç¼ºçœåŒ¹é…</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€åŒ¹é…é¡ºåº" tabindex="-1"><a class="header-anchor" href="#_2ã€åŒ¹é…é¡ºåº" aria-hidden="true">#</a> 2ã€åŒ¹é…é¡ºåº</h3><ol><li><p>ç²¾ç¡®åŒ¹é…ã€‚</p></li><li><p>è·¯å¾„åŒ¹é…ï¼Œå…ˆæœ€é•¿è·¯å¾„åŒ¹é…ï¼Œå†æœ€çŸ­è·¯å¾„åŒ¹é…ã€‚</p></li><li><p>æ‰©å±•ååŒ¹é…ã€‚</p><p><strong>æ³¨æ„ï¼šä½¿ç”¨æ‰©å±•ååŒ¹é…ï¼Œå‰é¢å°±ä¸èƒ½æœ‰ä»»ä½•çš„è·¯å¾„ã€‚</strong></p></li><li><p>ç¼ºçœåŒ¹é…ï¼Œä»¥ä¸Šéƒ½æ‰¾ä¸åˆ°Servletï¼Œå°±ç”¨é»˜è®¤çš„Servletï¼Œé…ç½®ä¸º&lt;url-pattern&gt;/&lt;/url-pattern&gt;</p></li></ol><h3 id="_3ã€éœ€è¦æ³¨æ„çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_3ã€éœ€è¦æ³¨æ„çš„é—®é¢˜" aria-hidden="true">#</a> 3ã€éœ€è¦æ³¨æ„çš„é—®é¢˜</h3><blockquote><p>è·¯å¾„åŒ¹é…å’Œæ‰©å±•ååŒ¹é…æ— æ³•åŒæ—¶è®¾ç½®</p></blockquote><p>â€‹ åŒ¹é…æ–¹æ³•åªæœ‰ä¸‰ç§ï¼Œè¦ä¹ˆæ˜¯è·¯å¾„åŒ¹é…ï¼ˆ<strong>ä»¥â€œ/â€å­—ç¬¦å¼€å¤´ï¼Œå¹¶ä»¥â€œ/*â€ç»“å°¾</strong>ï¼‰ï¼Œè¦ä¹ˆæ˜¯æ‰©å±•ååŒ¹é…ï¼ˆ<strong>ä»¥â€œ*.â€å¼€å¤´</strong>ï¼‰ï¼Œè¦ä¹ˆæ˜¯ç²¾ç¡®åŒ¹é…ï¼Œä¸‰ç§åŒ¹é…æ–¹æ³•ä¸èƒ½è¿›è¡Œç»„åˆï¼Œä¸è¦æƒ³å½“ç„¶ä½¿ç”¨é€šé…ç¬¦ã€‚</p><ul><li><p>å¦‚&lt;url-pattern&gt;/user/*.action&lt;/url-pattern&gt;æ˜¯éæ³•çš„</p></li><li><p>å¦å¤–æ³¨æ„ï¼š&lt;url-pattern&gt;/aa/*/bb&lt;/url-pattern&gt;æ˜¯ç²¾ç¡®åŒ¹é…ï¼Œåˆæ³•ï¼Œè¿™é‡Œçš„*ä¸æ˜¯é€šé…çš„å«ä¹‰</p></li></ul><blockquote><p>&quot;/*&quot;å’Œ&quot;/&quot;å«ä¹‰å¹¶ä¸ç›¸åŒ</p></blockquote><ul><li><p>â€œ/*â€å±äºè·¯å¾„åŒ¹é…ï¼Œå¹¶ä¸”å¯ä»¥åŒ¹é…æ‰€æœ‰requestï¼Œç”±äºè·¯å¾„åŒ¹é…çš„ä¼˜å…ˆçº§ä»…æ¬¡äºç²¾ç¡®åŒ¹é…ï¼Œæ‰€ä»¥â€œ/*â€ä¼šè¦†ç›–æ‰€æœ‰çš„æ‰©å±•ååŒ¹é…ï¼Œå¾ˆå¤š404é”™è¯¯å‡ç”±æ­¤å¼•èµ·ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§ç‰¹åˆ«æ¶åŠ£çš„åŒ¹é…æ¨¡å¼ã€‚</p></li><li><p>â€œ/â€æ˜¯servletä¸­ç‰¹æ®Šçš„åŒ¹é…æ¨¡å¼ï¼Œåˆ‡è¯¥æ¨¡å¼æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¼˜å…ˆçº§æœ€ä½ï¼Œä¸ä¼šè¦†ç›–å…¶ä»–ä»»ä½•url-patternï¼Œåªæ˜¯ä¼šæ›¿æ¢servletå®¹å™¨çš„å†…å»ºdefault servlet ï¼Œè¯¥æ¨¡å¼åŒæ ·ä¼šåŒ¹é…æ‰€æœ‰requestã€‚</p></li></ul><p>Tomcatåœ¨%CATALINA_HOME%\conf\web.xmlæ–‡ä»¶ä¸­é…ç½®äº†é»˜è®¤çš„Servletï¼Œé…ç½®ä»£ç å¦‚ä¸‹:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.apache.catalina.servlets.DefaultServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>debug<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>listings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.apache.jasper.servlet.JspServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>fork<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>xpoweredBy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- The mappings for the JSP servlet --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jspx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>â€œ/*â€å’Œâ€œ/â€å‡ä¼šæ‹¦æˆªé™æ€èµ„æºçš„åŠ è½½ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„</li></ul><h3 id="_4ã€ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#_4ã€ä¸¾ä¾‹" aria-hidden="true">#</a> 4ã€ä¸¾ä¾‹</h3><table><thead><tr><th>æ˜ å°„çš„URL</th><th>å¯¹åº”çš„Servlet</th></tr></thead><tbody><tr><td>/hello</td><td>servlet1</td></tr><tr><td>/bbs/admin/*</td><td>servlet2</td></tr><tr><td>/bbs/*</td><td>servlet3</td></tr><tr><td>*.jsp</td><td>servlet4</td></tr><tr><td>/</td><td>servlet5</td></tr></tbody></table><p>å®é™…è¯·æ±‚æ˜ å°„çš„ç»“æœ</p><table><thead><tr><th>å»æ‰ä¸Šä¸‹æ–‡è·¯å¾„çš„å‰©ä½™è·¯å¾„</th><th>å¤„ç†è¯·æ±‚çš„Servlet</th></tr></thead><tbody><tr><td>/hello</td><td>servlet1</td></tr><tr><td>/bbs/admin/login</td><td>servlet2</td></tr><tr><td>/bbs/admin/index.jsp</td><td>servlet2</td></tr><tr><td>/bbs/display</td><td>servlet3</td></tr><tr><td>/bbs/index.jsp</td><td>servlet3</td></tr><tr><td>/bbs</td><td>servlet3</td></tr><tr><td>/index.jsp</td><td>servler4</td></tr><tr><td>/hello/index.jsp</td><td>servlet4</td></tr><tr><td>/hello/index.html</td><td>servlet5</td></tr><tr><td>/news</td><td>servlet5</td></tr></tbody></table><h2 id="_4-è¯·æ±‚å’Œå“åº”" tabindex="-1"><a class="header-anchor" href="#_4-è¯·æ±‚å’Œå“åº”" aria-hidden="true">#</a> 4-è¯·æ±‚å’Œå“åº”</h2><h3 id="_1ã€è¯·æ±‚-reques" tabindex="-1"><a class="header-anchor" href="#_1ã€è¯·æ±‚-reques" aria-hidden="true">#</a> 1ã€è¯·æ±‚-reques</h3><h4 id="_1-requestæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-requestæ¦‚è¿°" aria-hidden="true">#</a> <strong>ï¼ˆ1ï¼‰requestæ¦‚è¿°</strong></h4><p>requestæ˜¯Servlet.service()æ–¹æ³•çš„ä¸€ä¸ªå‚æ•°ï¼Œç±»å‹ä¸ºjavax.servlet.http.HttpServletRequestã€‚åœ¨å®¢æˆ·ç«¯å‘å‡ºæ¯ä¸ªè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªrequestå¯¹è±¡ï¼Œå¹¶æŠŠè¯·æ±‚æ•°æ®å°è£…åˆ°requestä¸­ï¼Œç„¶åå†è°ƒç”¨Servlet.service()æ–¹æ³•æ—¶ä¼ é€’ç»™service()æ–¹æ³•ï¼Œè¿™è¯´æ˜åœ¨service()æ–¹æ³•ä¸­å¯ä»¥é€šè¿‡requestå¯¹è±¡æ¥è·å–è¯·æ±‚æ•°æ®ã€‚</p><p>requestçš„åŠŸèƒ½å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>å°è£…äº†è¯·æ±‚å¤´æ•°æ®ï¼›</p></li><li><p>å°è£…äº†è¯·æ±‚æ­£æ–‡æ•°æ®ï¼Œå¦‚æœæ˜¯GETè¯·æ±‚ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰æ­£æ–‡ï¼›</p></li><li><p>requestæ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡ï¼Œå¯ä»¥æŠŠå®ƒå½“æˆMapæ¥æ·»åŠ è·å–æ•°æ®ï¼›</p></li><li><p>requestæä¾›äº†è¯·æ±‚è½¬å‘å’Œè¯·æ±‚åŒ…å«åŠŸèƒ½ã€‚ï¼ˆä»¥åå­¦ä¹ ï¼‰</p></li></ul><h4 id="_2-requestè·å–è¯·æ±‚å¤´æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-requestè·å–è¯·æ±‚å¤´æ•°æ®" aria-hidden="true">#</a> <strong>ï¼ˆ2ï¼‰requestè·å–è¯·æ±‚å¤´æ•°æ®</strong></h4><p>requestä¸è¯·æ±‚å¤´ç›¸å…³çš„æ–¹æ³•æœ‰ï¼š</p><ul><li><p>String getHeader(String name)ï¼šè·å–æŒ‡å®šåç§°çš„è¯·æ±‚å¤´ï¼›</p></li><li><p>Enumeration getHeaderNames()ï¼šè·å–æ‰€æœ‰è¯·æ±‚å¤´åç§°ï¼›</p></li><li><p>int getIntHeader(String name)ï¼šè·å–å€¼ä¸ºintç±»å‹çš„è¯·æ±‚å¤´ã€‚</p></li></ul><h4 id="_3-requestè·å–è¯·æ±‚ç›¸å…³çš„å…¶å®ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-requestè·å–è¯·æ±‚ç›¸å…³çš„å…¶å®ƒæ–¹æ³•" aria-hidden="true">#</a> <strong>ï¼ˆ3ï¼‰requestè·å–è¯·æ±‚ç›¸å…³çš„å…¶å®ƒæ–¹æ³•</strong></h4><ul><li><p>requestä¸­è¿˜æä¾›äº†ä¸è¯·æ±‚ç›¸å…³çš„å…¶ä»–æ–¹æ³•ï¼Œæœ‰äº›æ–¹æ³•æ˜¯ä¸ºäº†æˆ‘ä»¬æ›´åŠ ä¾¿æ·çš„æ–¹æ³•è¯·æ±‚å¤´æ•°æ®è€Œè®¾è®¡ï¼Œæœ‰äº›æ˜¯ä¸è¯·æ±‚URLç›¸å…³çš„æ–¹æ³•ã€‚</p></li><li><p>int getContentLength()ï¼šè·å–è¯·æ±‚ä½“çš„å­—èŠ‚æ•°ï¼ŒGETè¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ²¡æœ‰è¯·æ±‚ä½“è¿”å›-1ï¼›</p></li><li><p>String getContentType()ï¼šè·å–è¯·æ±‚ç±»å‹ï¼Œå¦‚æœè¯·æ±‚æ˜¯GETï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•è¿”å›nullï¼›å¦‚æœæ˜¯POSTè¯·æ±‚ï¼Œé‚£ä¹ˆé»˜è®¤ä¸ºapplication/x-www-form-urlencodedï¼Œè¡¨ç¤ºè¯·æ±‚ä½“å†…å®¹ä½¿ç”¨äº†URLç¼–ç ï¼›</p></li><li><p>String getMethod()ï¼šè¿”å›è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šGET</p></li><li><p>Locale getLocale()ï¼šè¿”å›å½“å‰å®¢æˆ·ç«¯æµè§ˆå™¨çš„Localeã€‚java.util.Localeè¡¨ç¤ºå›½å®¶å’Œè¨€è¯­ï¼Œè¿™ä¸ªä¸œè¥¿åœ¨å›½é™…åŒ–ä¸­å¾ˆæœ‰ç”¨ï¼›</p></li><li><p>String getCharacterEncoding()ï¼šè·å–è¯·æ±‚ç¼–ç ï¼Œå¦‚æœæ²¡æœ‰setCharacterEncoding()ï¼Œé‚£ä¹ˆè¿”å›nullï¼Œè¡¨ç¤ºä½¿ç”¨ISO-8859-1ç¼–ç ï¼›</p></li><li><p>void setCharacterEncoding(String code)ï¼šè®¾ç½®è¯·æ±‚ç¼–ç ï¼Œåªå¯¹è¯·æ±‚ä½“æœ‰æ•ˆï¼æ³¨æ„ï¼Œå¯¹äºGETè€Œè¨€ï¼Œæ²¡æœ‰è¯·æ±‚ä½“ï¼ï¼ï¼æ‰€ä»¥æ­¤æ–¹æ³•åªèƒ½å¯¹POSTè¯·æ±‚ä¸­çš„å‚æ•°æœ‰æ•ˆï¼</p></li><li><p>String getContextPath()ï¼šè¿”å›ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œä¾‹å¦‚ï¼š/hello</p></li><li><p>String getQueryString()ï¼šè¿”å›è¯·æ±‚URLä¸­çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼šname=zhangSan</p></li><li><p>String getRequestURI()ï¼šè¿”å›è¯·æ±‚URIè·¯å¾„ï¼Œä¾‹å¦‚ï¼š/hello/oneServlet</p></li><li><p>StringBuffer getRequestURL()ï¼šè¿”å›è¯·æ±‚URLè·¯å¾„ï¼Œä¾‹å¦‚ï¼š<a href="http://localhost/hello/oneServlet%EF%BC%8C%E5%8D%B3%E8%BF%94%E5%9B%9E%E9%99%A4%E4%BA%86%E5%8F%82%E6%95%B0%E4%BB%A5%E5%A4%96%E7%9A%84%E8%B7%AF%E5%BE%84%E4%BF%A1%E6%81%AF%EF%BC%9B" target="_blank" rel="noopener noreferrer">http://localhost/hello/oneServletï¼Œå³è¿”å›é™¤äº†å‚æ•°ä»¥å¤–çš„è·¯å¾„ä¿¡æ¯ï¼›<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>String getServletPath()ï¼šè¿”å›Servletè·¯å¾„ï¼Œä¾‹å¦‚ï¼š/oneServlet</p></li><li><p>String getRemoteAddr()ï¼šè¿”å›å½“å‰å®¢æˆ·ç«¯çš„IPåœ°å€ï¼›</p></li><li><p>String getRemoteHost()ï¼šè¿”å›å½“å‰å®¢æˆ·ç«¯çš„ä¸»æœºåï¼Œä½†è¿™ä¸ªæ–¹æ³•çš„å®ç°è¿˜æ˜¯è·å–IPåœ°å€ï¼›</p></li><li><p>String getScheme()ï¼šè¿”å›è¯·æ±‚åè®®ï¼Œä¾‹å¦‚ï¼šhttpï¼›</p></li><li><p>String getServerName()ï¼šè¿”å›ä¸»æœºåï¼Œä¾‹å¦‚ï¼šlocalhost</p></li><li><p>int getServerPort()ï¼šè¿”å›æœåŠ¡å™¨ç«¯å£å·ï¼Œä¾‹å¦‚ï¼š8080</p></li></ul><blockquote><p>æ¡ˆä¾‹ï¼šrequest.getRemoteAddr()ï¼šå°IP</p></blockquote><p>å¯ä»¥ä½¿ç”¨request.getRemoteAddr()æ–¹æ³•è·å–å®¢æˆ·ç«¯çš„IPåœ°å€ï¼Œç„¶ååˆ¤æ–­IPæ˜¯å¦ä¸ºç¦ç”¨IPã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> ip <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token keyword">if</span><span class="token punctuation">(</span>ip<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
	response<span class="token punctuation">.</span> <span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;æ‚¨çš„IPå·²è¢«ç¦æ­¢ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>       
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-requestè·å–è¯·æ±‚å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_4-requestè·å–è¯·æ±‚å‚æ•°" aria-hidden="true">#</a> <strong>ï¼ˆ4ï¼‰requestè·å–è¯·æ±‚å‚æ•°</strong></h4><p>æœ€ä¸ºå¸¸è§çš„å®¢æˆ·ç«¯ä¼ é€’å‚æ•°æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ul><li><p>æµè§ˆå™¨åœ°å€æ ç›´æ¥è¾“å…¥ï¼šä¸€å®šæ˜¯GETè¯·æ±‚ï¼›</p></li><li><p>è¶…é“¾æ¥ï¼šä¸€å®šæ˜¯GETè¯·æ±‚ï¼›</p></li><li><p>è¡¨å•ï¼šå¯ä»¥æ˜¯GETï¼Œä¹Ÿå¯ä»¥æ˜¯POSTï¼Œè¿™å–å†³ä¸&lt;form&gt;çš„methodå±æ€§å€¼ã€‚</p></li></ul><blockquote><p>GETè¯·æ±‚å’ŒPOSTè¯·æ±‚çš„åŒºåˆ«ï¼š</p></blockquote><p>l GETè¯·æ±‚ï¼š</p><ul><li><p>è¯·æ±‚å‚æ•°ä¼šåœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸å®‰å…¨ï¼›</p></li><li><p>è¯·æ±‚å‚æ•°é•¿åº¦é™åˆ¶é•¿åº¦åœ¨1Kä¹‹å†…ï¼›</p></li><li><p>GETè¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ— æ³•é€šè¿‡request.setCharacterEncoding()æ¥è®¾ç½®å‚æ•°çš„ç¼–ç ï¼›</p></li></ul><p>l POSTè¯·æ±‚ï¼š</p><ul><li><p>è¯·æ±‚å‚æ•°ä¸ä¼šæ˜¾ç¤ºæµè§ˆå™¨çš„åœ°å€æ ï¼Œç›¸å¯¹å®‰å…¨ï¼›</p></li><li><p>è¯·æ±‚å‚æ•°é•¿åº¦æ²¡æœ‰é™åˆ¶ï¼›</p></li></ul><blockquote><p>ä¸‹é¢æ˜¯ä½¿ç”¨requestè·å–è¯·æ±‚å‚æ•°çš„APIï¼š</p></blockquote><ul><li>String getParameter(String name)ï¼šé€šè¿‡æŒ‡å®šåç§°è·å–å‚æ•°å€¼ï¼›</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    <span class="token class-name">String</span> v1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;p1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token class-name">String</span> v2 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;p2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;p1=&quot;</span> <span class="token operator">+</span> v1<span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;p2=&quot;</span> <span class="token operator">+</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    <span class="token class-name">String</span> v1 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;p1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token class-name">String</span> v2 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;p2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;p1=&quot;</span> <span class="token operator">+</span> v1<span class="token punctuation">)</span><span class="token punctuation">;</span>     
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;p2=&quot;</span> <span class="token operator">+</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>String[] getParameterValues(String name)ï¼šå½“å¤šä¸ªå‚æ•°åç§°ç›¸åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•æ¥è·å–ï¼›</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>   <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span>  request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 									       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span>*toString<span class="token operator">*</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Enumeration getParameterNames()ï¼šè·å–æ‰€æœ‰å‚æ•°çš„åå­—ï¼›</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    <span class="token class-name">Enumeration</span> names <span class="token operator">=</span>  request<span class="token punctuation">.</span><span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token keyword">while</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Map getParameterMap()ï¼šè·å–æ‰€æœ‰å‚æ•°å°è£…åˆ°Mapä¸­ï¼Œå…¶ä¸­keyä¸ºå‚æ•°åï¼Œvalueä¸ºå‚æ•°å€¼ï¼Œå› ä¸ºä¸€ä¸ªå‚æ•°åç§°å¯èƒ½æœ‰å¤šä¸ªå€¼ï¼Œæ‰€ä»¥å‚æ•°å€¼æ˜¯String[]ï¼Œè€Œä¸æ˜¯Stringã€‚</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> paramMap <span class="token operator">=</span>  request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token operator">:</span> paramMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values <span class="token operator">=</span>  paramMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>       
    <span class="token class-name">System</span><span class="token punctuation">.</span>*out<span class="token operator">*</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span>*toString<span class="token operator">*</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-è¯·æ±‚è½¬å‘-é‡è¦" tabindex="-1"><a class="header-anchor" href="#_5-è¯·æ±‚è½¬å‘-é‡è¦" aria-hidden="true">#</a> ï¼ˆ5ï¼‰è¯·æ±‚è½¬å‘-é‡è¦</h4><p>è¯·æ±‚è½¬å‘è¡¨ç¤ºç”±<code>å¤šä¸ªServletå…±åŒæ¥å¤„ç†ä¸€ä¸ªè¯·æ±‚</code>ã€‚ä¾‹å¦‚Servlet1æ¥å¤„ç†è¯·æ±‚ï¼Œç„¶åServlet1åˆè½¬å‘ç»™Servlet2æ¥ç»§ç»­å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</p><p>åœ¨AServletä¸­ï¼ŒæŠŠè¯·æ±‚è½¬å‘åˆ°BServletï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">RequestDispatcher</span> rd <span class="token operator">=</span>  request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/BServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
        rd<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-request-åŸŸæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_6-request-åŸŸæ–¹æ³•" aria-hidden="true">#</a> ï¼ˆ6ï¼‰request åŸŸæ–¹æ³•</h4><p><strong>ä¸€ä¸ªè¯·æ±‚ä¼šåˆ›å»ºä¸€ä¸ªrequestå¯¹è±¡ï¼Œå¦‚æœåœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ç»å†äº†å¤šä¸ªServletï¼Œé‚£ä¹ˆå¤šä¸ªServletå°±å¯ä»¥ä½¿ç”¨requestæ¥å…±äº«æ•°æ®ã€‚</strong></p><p>ä¸‹é¢æ˜¯requestçš„åŸŸæ–¹æ³•ï¼š</p><ul><li><p>void setAttribute(String name, Object value)ï¼šç”¨æ¥å­˜å‚¨ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå­˜å‚¨ä¸€ä¸ªåŸŸå±æ€§ï¼Œ</p></li><li><p>Object getAttribute(String name)ï¼šç”¨æ¥è·å–requestä¸­çš„æ•°æ®ï¼Œå½“å‰åœ¨è·å–ä¹‹å‰éœ€è¦å…ˆå»å­˜å‚¨æ‰è¡Œï¼Œä¾‹å¦‚ï¼šString value = (String)request.getAttribute(â€œxxxâ€);ï¼Œè·å–åä¸ºxxxçš„åŸŸå±æ€§ï¼›</p></li><li><p>void removeAttribute(String name)ï¼šç”¨æ¥ç§»é™¤requestä¸­çš„åŸŸå±æ€§ï¼Œå¦‚æœå‚æ•°nameæŒ‡å®šçš„åŸŸå±æ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœ¬æ–¹æ³•ä»€ä¹ˆéƒ½ä¸åšï¼›</p></li><li><p>Enumeration getAttributeNames()ï¼šè·å–æ‰€æœ‰åŸŸå±æ€§çš„åç§°ï¼›</p></li></ul><p>åŸŸæ–¹æ³•é€šå¸¸åœ¨è¿›è¡Œé‡å®šå‘æ—¶ä½¿ç”¨ï¼Œå¤šä¸ªServletå…±äº«æ•°æ®ã€‚</p><h3 id="_2ã€å“åº”-response" tabindex="-1"><a class="header-anchor" href="#_2ã€å“åº”-response" aria-hidden="true">#</a> 2ã€å“åº”-response</h3><h4 id="_1-responseæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1-responseæ¦‚è¿°" aria-hidden="true">#</a> ï¼ˆ1ï¼‰responseæ¦‚è¿°</h4><p>â€‹ responseæ˜¯Servlet.serviceæ–¹æ³•çš„ä¸€ä¸ªå‚æ•°ï¼Œç±»å‹ä¸ºjavax.servlet.http.HttpServletResponseã€‚</p><p>â€‹ åœ¨å®¢æˆ·ç«¯å‘å‡ºæ¯ä¸ªè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªresponseå¯¹è±¡ï¼Œå¹¶ä¼ å…¥ç»™Servlet.service()æ–¹æ³•ã€‚responseå¯¹è±¡æ˜¯ç”¨æ¥å¯¹å®¢æˆ·ç«¯è¿›è¡Œå“åº”çš„ï¼Œè¿™è¯´æ˜åœ¨service()æ–¹æ³•ä¸­ä½¿ç”¨responseå¯¹è±¡å¯ä»¥å®Œæˆå¯¹å®¢æˆ·ç«¯çš„å“åº”å·¥ä½œã€‚</p><p>responseå¯¹è±¡çš„åŠŸèƒ½åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š</p><ul><li><p>è®¾ç½®å“åº”å¤´ä¿¡æ¯ï¼›</p></li><li><p>å‘é€çŠ¶æ€ç ï¼›</p></li><li><p>è®¾ç½®å“åº”æ­£æ–‡ï¼›</p></li><li><p>é‡å®šå‘ã€‚</p></li></ul><h4 id="_2-responseå“åº”æ­£æ–‡" tabindex="-1"><a class="header-anchor" href="#_2-responseå“åº”æ­£æ–‡" aria-hidden="true">#</a> ï¼ˆ2ï¼‰responseå“åº”æ­£æ–‡</h4><p>responseæ˜¯å“åº”å¯¹è±¡ï¼Œå‘å®¢æˆ·ç«¯è¾“å‡ºå“åº”æ­£æ–‡ï¼ˆå“åº”ä½“ï¼‰å¯ä»¥ä½¿ç”¨responseçš„å“åº”æµï¼Œrepsonseä¸€å…±æä¾›äº†ä¸¤ä¸ªå“åº”æµå¯¹è±¡ï¼š</p><ul><li><p>PrintWriter out = response.getWriter()ï¼šè·å–å­—ç¬¦æµï¼Œå¤„ç†å­—ç¬¦ï¼›</p></li><li><p>ServletOutputStream out = response.getOutputStream()ï¼šè·å–å­—èŠ‚æµï¼Œå¤„ç†æ–‡ä»¶ï¼›</p></li></ul><p>æ³¨æ„ï¼Œåœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªæµï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ä¹ˆä½ ä½¿ç”¨repsonse.getWriter()ï¼Œè¦ä¹ˆä½¿ç”¨response.getOutputStream()ï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªæµã€‚ä¸ç„¶ä¼šæŠ›å‡º<a href="http://java.sun.com/j2se/1.5/docs/api/java/lang/IllegalStateException.html" target="_blank" rel="noopener noreferrer">IllegalStateException<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å¼‚å¸¸ã€‚</p><h5 id="aã€å­—ç¬¦å“åº”æµ" tabindex="-1"><a class="header-anchor" href="#aã€å­—ç¬¦å“åº”æµ" aria-hidden="true">#</a> aã€å­—ç¬¦å“åº”æµ</h5><p>ï¼ˆ1ï¼‰å­—ç¬¦ç¼–ç </p><p>**é‡è¦ï¼š**åœ¨ä½¿ç”¨response.getWriter()æ—¶éœ€è¦æ³¨æ„é»˜è®¤å­—ç¬¦ç¼–ç ä¸ºISO-8859-1ï¼Œå¦‚æœå¸Œæœ›è®¾ç½®å­—ç¬¦æµçš„å­—ç¬¦ç¼–ç ä¸ºutf-8ï¼Œå¯ä»¥ä½¿ç”¨response.setCharaceterEncoding(â€œgbkâ€)æ¥è®¾ç½®ã€‚è¿™æ ·å¯ä»¥ä¿è¯è¾“å‡ºç»™å®¢æˆ·ç«¯çš„å­—ç¬¦éƒ½æ˜¯ä½¿ç”¨UTF-8ç¼–ç çš„ï¼</p><p>â€‹ ä½†å®¢æˆ·ç«¯æµè§ˆå™¨å¹¶ä¸çŸ¥é“å“åº”æ•°æ®æ˜¯ä»€ä¹ˆç¼–ç çš„ï¼å¦‚æœå¸Œæœ›é€šçŸ¥å®¢æˆ·ç«¯ä½¿ç”¨UTF-8æ¥è§£è¯»å“åº”æ•°æ®ï¼Œé‚£ä¹ˆè¿˜æ˜¯ä½¿ç”¨**response.setContentType(&quot;text/html;charset=utf-8&quot;)**æ–¹æ³•æ¯”è¾ƒå¥½ï¼Œ</p><p>â€‹ å› ä¸ºè¿™ä¸ªæ–¹æ³•ä¸åªä¼šè°ƒç”¨response.setCharaceterEncoding(â€œutf-8â€)ï¼Œè¿˜ä¼šè®¾ç½®content-typeå“åº”å¤´ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨ä¼šä½¿ç”¨content-typeå¤´æ¥è§£è¯»å“åº”æ•°æ®ã€‚</p><p>ï¼ˆ2ï¼‰ç¼“å†²åŒº</p><p>response.getWriter()æ˜¯PrintWriterç±»å‹ï¼Œæ‰€ä»¥å®ƒæœ‰ç¼“å†²åŒºï¼Œç¼“å†²åŒºçš„é»˜è®¤å¤§å°ä¸º8KBã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å“åº”æ•°æ®æ²¡æœ‰è¾“å‡º8KBä¹‹å‰ï¼Œæ•°æ®éƒ½æ˜¯å­˜æ”¾åœ¨ç¼“å†²åŒºä¸­ï¼Œè€Œä¸ä¼šç«‹åˆ»å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å½“Servletæ‰§è¡Œç»“æŸåï¼ŒæœåŠ¡å™¨æ‰ä¼šå»åˆ·æ–°æµï¼Œä½¿ç¼“å†²åŒºä¸­çš„æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ã€‚</p><p>å¦‚æœå¸Œæœ›å“åº”æ•°æ®é©¬ä¸Šå‘é€ç»™å®¢æˆ·ç«¯ï¼š</p><ul><li><p>å‘æµä¸­å†™å…¥å¤§äº8KBçš„æ•°æ®ï¼›</p></li><li><p>è°ƒç”¨response.flushBuffer()æ–¹æ³•æ¥æ‰‹åŠ¨åˆ·æ–°ç¼“å†²åŒºï¼›</p></li></ul><h4 id="_3-è®¾ç½®å“åº”å¤´ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_3-è®¾ç½®å“åº”å¤´ä¿¡æ¯" aria-hidden="true">#</a> ï¼ˆ3ï¼‰è®¾ç½®å“åº”å¤´ä¿¡æ¯</h4><p>å¯ä»¥ä½¿ç”¨responseå¯¹è±¡çš„setHeader()æ–¹æ³•æ¥è®¾ç½®å“åº”å¤´ï¼ä½¿ç”¨è¯¥æ–¹æ³•è®¾ç½®çš„å“åº”å¤´æœ€ç»ˆä¼šå‘é€ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼</p><ul><li>response.setHeader(â€œcontent-typeâ€, â€œtext/html;charset=utf-8â€)ï¼š</li></ul><p>è®¾ç½®content-typeå“åº”å¤´ï¼Œè¯¥å¤´çš„ä½œç”¨æ˜¯å‘Šè¯‰æµè§ˆå™¨å“åº”å†…å®¹ä¸ºhtmlç±»å‹ï¼Œç¼–ç ä¸ºutf-8ã€‚è€Œä¸”åŒæ—¶ä¼šè®¾ç½®responseçš„å­—ç¬¦æµç¼–ç ä¸ºutf-8ï¼Œå³response.setCharaceterEncoding(â€œutf-8â€)ï¼›</p><ul><li>response.setHeader(&quot;Refresh&quot;,&quot;5; URL=<a href="http://www.baidu.cn" target="_blank" rel="noopener noreferrer">http://www.baidu.cn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;)ï¼š5ç§’åè‡ªåŠ¨è·³è½¬åˆ°ç™¾åº¦ä¸»é¡µã€‚</li></ul><h4 id="_4-è®¾ç½®çŠ¶æ€ç åŠå…¶ä»–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_4-è®¾ç½®çŠ¶æ€ç åŠå…¶ä»–æ–¹æ³•" aria-hidden="true">#</a> ï¼ˆ4ï¼‰è®¾ç½®çŠ¶æ€ç åŠå…¶ä»–æ–¹æ³•</h4><ul><li><p>response.setContentType(&quot;text/html;charset=utf-8&quot;)ï¼šç­‰åŒäºè°ƒç”¨response.setHeader(â€œcontent-typeâ€, â€œtext/html;charset=utf-8â€)ï¼›ç”¨å®ƒå°±è¡Œäº†ã€‚</p></li><li><p>response.setCharacterEncoding(â€œutf-8â€)ï¼šè®¾ç½®å­—ç¬¦å“åº”æµçš„å­—ç¬¦ç¼–ç ä¸ºutf-8ï¼›</p></li><li><p>response.setStatus(200)ï¼šè®¾ç½®çŠ¶æ€ç ï¼›</p></li><li><p>response.sendError(404, â€œæ‚¨è¦æŸ¥æ‰¾çš„èµ„æºä¸å­˜åœ¨â€)ï¼šå½“å‘é€é”™è¯¯çŠ¶æ€ç æ—¶ï¼ŒTomcatä¼šè·³è½¬åˆ°å›ºå®šçš„é”™è¯¯é¡µé¢å»ï¼Œä½†å¯ä»¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</p></li></ul><p>é‡å®šå‘å’Œè¯·æ±‚è½¬å‘</p><h4 id="_5-é‡å®šå‘-é‡è¦" tabindex="-1"><a class="header-anchor" href="#_5-é‡å®šå‘-é‡è¦" aria-hidden="true">#</a> ï¼ˆ5ï¼‰é‡å®šå‘ï¼Œé‡è¦</h4><blockquote><p>ä»€ä¹ˆæ˜¯é‡å®šå‘</p></blockquote><p>å½“ä½ è®¿é—®<a href="http://www.sun.xn--com-t28f" target="_blank" rel="noopener noreferrer">http://www.sun.comæ—¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œä½ ä¼šå‘ç°æµè§ˆå™¨åœ°å€æ ä¸­çš„URLä¼šå˜æˆ<a href="http://www.oracle.com/us/sun/index.htm%EF%BC%8C%E8%BF%99%E5%B0%B1%E6%98%AF%E9%87%8D%E5%AE%9A%E5%90%91%E4%BA%86%E3%80%82" target="_blank" rel="noopener noreferrer">http://www.oracle.com/us/sun/index.htmï¼Œè¿™å°±æ˜¯é‡å®šå‘äº†ã€‚<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>é‡å®šå‘æ˜¯æœåŠ¡å™¨é€šçŸ¥æµè§ˆå™¨å»è®¿é—®å¦ä¸€ä¸ªåœ°å€ï¼Œå³å†å‘å‡ºå¦ä¸€ä¸ªè¯·æ±‚ã€‚</p><blockquote><p>å®Œæˆé‡å®šå‘</p></blockquote><p>å“åº”ç ä¸º200è¡¨ç¤ºå“åº”æˆåŠŸï¼Œè€Œå“åº”ç ä¸º302è¡¨ç¤ºé‡å®šå‘ã€‚æ‰€ä»¥å®Œæˆé‡å®šå‘çš„ç¬¬ä¸€æ­¥å°±æ˜¯è®¾ç½®å“åº”ç ä¸º302ã€‚</p><p>å› ä¸ºé‡å®šå‘æ˜¯é€šçŸ¥æµè§ˆå™¨å†ç¬¬äºŒä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥æµè§ˆå™¨éœ€è¦çŸ¥é“ç¬¬äºŒä¸ªè¯·æ±‚çš„URLï¼Œæ‰€ä»¥å®Œæˆé‡å®šå‘çš„ç¬¬äºŒæ­¥æ˜¯è®¾ç½®Locationå¤´ï¼ŒæŒ‡å®šç¬¬äºŒä¸ªè¯·æ±‚çš„URLåœ°å€ã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>compublic <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>    
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Location&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç çš„ä½œç”¨æ˜¯ï¼šå½“è®¿é—®AServletåï¼Œä¼šé€šçŸ¥æµè§ˆå™¨é‡å®šå‘åˆ°ç™¾åº¦ä¸»é¡µã€‚å®¢æˆ·ç«¯æµè§ˆå™¨è§£æåˆ°å“åº”ç ä¸º302åï¼Œå°±çŸ¥é“æœåŠ¡å™¨è®©å®ƒé‡å®šå‘ï¼Œæ‰€ä»¥å®ƒä¼šé©¬ä¸Šè·å–å“åº”å¤´Locationï¼Œç„¶å‘å‡ºç¬¬äºŒä¸ªè¯·æ±‚ã€‚</p><blockquote><p>ä¾¿æ·çš„é‡å®šå‘æ–¹</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>response.sendRedirect()æ–¹æ³•ä¼šè®¾ç½®å“åº”å¤´ä¸º302ï¼Œä»¥è®¾ç½®Locationå“åº”å¤´ã€‚</p><p>å¦‚æœè¦é‡å®šå‘çš„URLæ˜¯åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨å†…ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>       <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>      
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/hello/BServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å®šå‘çš„URLåœ°å€ä¸ºï¼š<a href="http://localhost:8080/hello/BServlet%E3%80%82" target="_blank" rel="noopener noreferrer">http://localhost:8080/hello/BServletã€‚<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>é‡å®šå‘å°ç»“</p></blockquote><ul><li><p>é‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚ï¼Œè¯·æ±‚è½¬å‘æ˜¯ä¸€æ¬¡</p></li><li><p>é‡å®šå‘çš„URLå¯ä»¥æ˜¯å…¶å®ƒåº”ç”¨ï¼Œä¸å±€é™äºå½“å‰åº”ç”¨ï¼›</p></li><li><p>é‡å®šå‘çš„å“åº”å¤´ä¸º302ï¼Œå¹¶ä¸”å¿…é¡»è¦æœ‰Locationå“åº”å¤´ï¼›</p></li><li><p>é‡å®šå‘å°±ä¸è¦å†ä½¿ç”¨response.getWriter()æˆ–response.getOutputStream()è¾“å‡ºæ•°æ®ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ã€‚</p></li></ul><h3 id="_3ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_3ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" aria-hidden="true">#</a> 3ã€é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</h3><ul><li>é‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚ï¼Œè½¬å‘æ˜¯ä¸€ä¸ªè¯·æ±‚</li><li><strong>é‡å®šå‘æ˜¯æµè§ˆå™¨çš„è¡Œä¸ºï¼Œè¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸º</strong></li><li><strong>é‡å®šå‘æµè§ˆå™¨çš„åœ°å€ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè½¬å‘ä¸ä¼š</strong></li><li>é‡å®šå‘å¯ä»¥é‡å®šå‘åˆ°ä»»ä½•åœ°å€ï¼Œè½¬å‘åªèƒ½åœ¨é¡¹ç›®å†…è½¬å‘</li></ul><h3 id="_4ã€sessionå’Œcookie" tabindex="-1"><a class="header-anchor" href="#_4ã€sessionå’Œcookie" aria-hidden="true">#</a> 4ã€sessionå’Œcookie</h3><p>â€‹ ä¼šè¯çš„æ¦‚å¿µï¼šåœ¨è®¡ç®—æœºä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œç§°ä¸ºâ€œä¼šè¯æ§åˆ¶â€ã€‚</p><p>â€‹ httpæ˜¯æ— çŠ¶æ€çš„ï¼Œå®ƒä¸ä¿å­˜çŠ¶æ€ï¼Œæ„æ€å°±æ˜¯ä¸€ä¸ªæµè§ˆå™¨å‘çš„è¯·æ±‚ï¼Œéšåå°±æ–­å¼€äº†ï¼Œä¸‹ä¸€æ¬¡å‘é€è¯·æ±‚å°±å’Œä¸Šä¸€æ¬¡æ— å…³äº†ã€‚</p><p>â€‹ æ¯”å¦‚ä¸€ä¸ªç”¨æˆ·è´­ä¹°ä¸€ä¸ªå•†å“ï¼Œç¬¬ä¸€æ¬¡éœ€è¦ç™»å½•ï¼Œå¦‚æœå†ä¹°ä¸€ä¸ªæ—¶å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¦‚æœä¸çŸ¥é“æ˜¯è°å‘çš„ï¼Œé‚£ä¹ˆä»–å°±å¾—å†ç™»å½•ä¸€æ¬¡ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œäºæ˜¯å°±æå‡ºäº†cookieå’Œsessionçš„æ¦‚å¿µã€‚</p><p>â€‹ cookieæ˜¯è®°å½•åœ¨æµè§ˆå™¨ç«¯çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒçš„å¤§å°ä¸èƒ½è¶…è¿‡4kï¼Œsessionæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒä»¬ä¸¤äº’ç›¸é…åˆè®©æœåŠ¡å™¨æœ‰äº†èƒ½è¯†åˆ«å®¢æˆ·ç«¯ä¸€äº›çŠ¶æ€çš„èƒ½åŠ›ï¼Œæ„æ€å°±æ˜¯æœåŠ¡å°±èƒ½çŸ¥é“è¿™ä¸ªå®¢æˆ·ç«¯æœ‰æ²¡æœ‰ç™»å½•ç­‰ã€‚cookieå°±ç›¸å½“äºé€šè¡Œè¯ï¼Œsessionå°±æ˜¯é—¨æˆ¿ï¼Œè¿›å»æ—¶éœ€è¦ä»é—¨æˆ¿è¯†åˆ«ä¸€ä¸ªèº«ä»½ã€‚</p><h4 id="_1-cookie" tabindex="-1"><a class="header-anchor" href="#_1-cookie" aria-hidden="true">#</a> ï¼ˆ1ï¼‰cookie</h4><p>cookieæ˜¯å¯ä»¥é€šè¿‡keyå’Œvalueæ„å»ºçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç»™cookieæ·»åŠ ä¸€ä¸ªæœ‰æ•ˆæœŸï¼Œå•ä½æ˜¯ç§’ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Set-Cookieï¼šcustomer=huangxp; path=/foo; domain=.ibm.com; expires= Wednesday, 22-OCT-05 23:12:40 GMT;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Cookie cookie = new Cookie(&quot;jsession&quot;, UUID.randomUUID().toString());
resp.addCookie(cookie);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://raw.githubusercontent.com/huluhutu/blogimg/main/img/image-20211005214759688.png" alt="image-20211005214759688" loading="lazy"></p><p>cookieé™¤äº†key-valueä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å­—æ®µç”¨æ¥æ§åˆ¶cookieçš„è¡Œä¸ºï¼š</p><blockquote><p>expires/Max-Age å­—æ®µ</p></blockquote><p>â€‹ ä¸ºæ­¤cookieè¶…æ—¶æ—¶é—´ã€‚è‹¥è®¾ç½®å…¶å€¼ä¸ºä¸€ä¸ªæ—¶é—´ï¼Œé‚£ä¹ˆå½“åˆ°è¾¾æ­¤æ—¶é—´åï¼Œæ­¤cookieå¤±æ•ˆã€‚ä¸è®¾ç½®çš„è¯é»˜è®¤å€¼æ˜¯Sessionï¼Œå½“æµè§ˆå™¨å…³é—­(ä¸æ˜¯æµè§ˆå™¨æ ‡ç­¾é¡µï¼Œè€Œæ˜¯æ•´ä¸ªæµè§ˆå™¨) åï¼Œæ­¤cookieå¤±æ•ˆã€‚</p><p>1ã€è¿‡æœŸæ—¶é—´ï¼Œå®šcookieçš„ç”Ÿå‘½æœŸã€‚å¦‚æœæ˜¯æ­£æ•°å•ä½æ˜¯ç§’ï¼Œå¦‚æœæ˜¯è´Ÿæ•°ä»£è¡¨å…³é—­æµè§ˆå™¨å¤±æ•ˆï¼Œå¦‚æœè®¾ç½®æˆé›¶ä¹Ÿå°±æ˜¯å°†cookieå¤±æ•ˆã€‚</p><p>2ã€å…·ä½“æ˜¯å€¼æ˜¯è¿‡æœŸæ—¥æœŸã€‚å¦‚æœæƒ³è®©cookieçš„å­˜åœ¨æœŸé™è¶…è¿‡å½“å‰æµè§ˆå™¨ä¼šè¯æ—¶é—´ï¼Œå°±å¿…é¡»ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚å½“è¿‡äº†åˆ°æœŸæ—¥æœŸæ—¶ï¼Œæµè§ˆå™¨å°±å¯ä»¥åˆ é™¤cookieæ–‡ä»¶ï¼Œæ²¡æœ‰ä»»ä½•å½±å“ã€‚</p><blockquote><p>Secureå­—æ®µ</p></blockquote><p>è®¾ç½®æ˜¯å¦åªèƒ½é€šè¿‡httpsæ¥ä¼ é€’æ­¤æ¡cookie</p><ul><li>å®‰å…¨ï¼ŒæŒ‡å®šcookieçš„å€¼é€šè¿‡ç½‘ç»œå¦‚ä½•åœ¨ç”¨æˆ·å’ŒWEBæœåŠ¡å™¨ä¹‹é—´ä¼ é€’ã€‚</li><li>è¿™ä¸ªå±æ€§çš„å€¼æˆ–è€…æ˜¯â€œsecureâ€ï¼Œæˆ–è€…ä¸ºç©ºã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œè¯¥å±æ€§ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ä¸å®‰å…¨çš„HTTPè¿æ¥ä¼ é€’æ•°æ®ã€‚å¦‚æœä¸€ä¸ª cookie æ ‡è®°ä¸ºsecureï¼Œé‚£ä¹ˆï¼Œå®ƒä¸WEBæœåŠ¡å™¨ä¹‹é—´å°±é€šè¿‡HTTPSæˆ–è€…å…¶å®ƒå®‰å…¨åè®®ä¼ é€’æ•°æ®ã€‚ä¸è¿‡ï¼Œè®¾ç½®äº†secureå±æ€§ä¸ä»£è¡¨å…¶ä»–äººä¸èƒ½çœ‹åˆ°ä½ æœºå™¨æœ¬åœ°ä¿å­˜çš„cookieã€‚æ¢å¥è¯è¯´ï¼ŒæŠŠcookieè®¾ç½®ä¸ºsecureï¼Œåªä¿è¯cookieä¸WEBæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹åŠ å¯†ï¼Œè€Œä¿å­˜åœ¨æœ¬åœ°çš„cookieæ–‡ä»¶å¹¶ä¸åŠ å¯†ã€‚å¦‚æœæƒ³è®©æœ¬åœ°cookieä¹ŸåŠ å¯†ï¼Œå¾—è‡ªå·±åŠ å¯†æ•°æ®ã€‚</li></ul><blockquote><p>Httpå­—æ®µ</p></blockquote><p>cookieçš„httponlyå±æ€§ã€‚è‹¥æ­¤å±æ€§ä¸ºtrueï¼Œåˆ™åªæœ‰åœ¨httpè¯·æ±‚å¤´ä¸­ä¼šå¸¦æœ‰æ­¤cookieçš„ä¿¡æ¯ï¼Œè€Œä¸èƒ½é€šè¿‡document.cookieæ¥è®¿é—®æ­¤cookieã€‚</p><ul><li>å¦‚æœåœ¨Cookieä¸­è®¾ç½®äº†â€HttpOnlyâ€å±æ€§ï¼Œé‚£ä¹ˆé€šè¿‡åå°ç¨‹åºè¯»å–ï¼ŒJSè„šæœ¬å°†æ— æ³•è¯»å–åˆ°Cookieä¿¡æ¯ï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢XSSæ”»å‡»ã€‚</li><li>ä½†æ˜¯è®¾ç½®HttpOnlyå±æ€§ï¼ŒCookieç›—çªƒçš„å¨èƒå¹¶æ²¡æœ‰å½»åº•æ¶ˆé™¤ï¼Œå› ä¸ºcookieè¿˜æ˜¯æœ‰å¯èƒ½ä¼ é€’çš„è¿‡ç¨‹ä¸­è¢«ç›‘å¬æ•è·åä¿¡æ¯æ³„æ¼ã€‚</li></ul><blockquote><p>domainå­—æ®µ</p></blockquote><ul><li>åŸŸï¼ŒæŒ‡å®šå…³è”çš„WEBæœåŠ¡å™¨æˆ–åŸŸã€‚</li><li>å€¼æ˜¯åŸŸåã€‚è¿™æ˜¯å¯¹pathè·¯å¾„å±æ€§çš„ä¸€ä¸ªå»¶ä¼¸ã€‚<a href="http://xn--dev-ot9dz79bv0kf1blutjy5f.mycompany.com" target="_blank" rel="noopener noreferrer">å¦‚æœæˆ‘ä»¬æƒ³è®©dev.mycompany.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> èƒ½å¤Ÿè®¿é—®bbs.mycompany.comè®¾ç½®çš„cookiesï¼Œè¯¥æ€ä¹ˆåŠ? æˆ‘ä»¬å¯ä»¥æŠŠdomainå±æ€§è®¾ç½®æˆâ€œ<a href="http://mycompany.com" target="_blank" rel="noopener noreferrer">mycompany.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>â€ï¼Œå¹¶æŠŠpathå±æ€§è®¾ç½®æˆâ€œ/â€ã€‚ä¸èƒ½æŠŠcookies<strong>åŸŸå±æ€§è®¾ç½®æˆä¸è®¾ç½®å®ƒçš„æœåŠ¡å™¨çš„æ‰€åœ¨åŸŸ</strong>ä¸åŒçš„å€¼ã€‚</li></ul><blockquote><p>Pathå­—æ®µ</p></blockquote><p>pathå­—æ®µä¸ºå¯ä»¥è®¿é—®æ­¤cookieçš„é¡µé¢è·¯å¾„ã€‚ <a href="http://xn--domainabc-k99pv92ihfo.com" target="_blank" rel="noopener noreferrer">æ¯”å¦‚domainæ˜¯abc.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œpathæ˜¯/testï¼Œé‚£ä¹ˆåªæœ‰/testè·¯å¾„ä¸‹çš„é¡µé¢å¯ä»¥è¯»å–æ­¤cookieã€‚</p><ul><li>è·¯å¾„ï¼ŒæŒ‡å®šä¸cookieå…³è”çš„WEBé¡µã€‚</li><li>å€¼å¯ä»¥æ˜¯ä¸€ä¸ªç›®å½•ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè·¯å¾„ã€‚å¦‚æœ/head/index.html å»ºç«‹äº†ä¸€ä¸ªcookieï¼Œé‚£ä¹ˆåœ¨/head/ç›®å½•é‡Œçš„æ‰€æœ‰é¡µé¢ï¼Œä»¥åŠè¯¥ç›®å½•ä¸‹é¢ä»»ä½•å­ç›®å½•é‡Œçš„é¡µé¢éƒ½å¯ä»¥è®¿é—®è¿™ä¸ªcookieã€‚è¿™å°±æ˜¯è¯´ï¼Œåœ¨/head/stories/articles é‡Œçš„ä»»ä½•é¡µé¢éƒ½å¯ä»¥è®¿é—®/head/index.htmlå»ºç«‹çš„cookieã€‚ä½†æ˜¯ï¼Œå¦‚æœ/zdnn/ éœ€è¦è®¿é—®/head/index.htmlè®¾ç½®çš„cookiesï¼Œè¯¥æ€ä¹ˆåŠ?è¿™æ—¶ï¼Œæˆ‘ä»¬è¦æŠŠcookiesçš„pathå±æ€§è®¾ç½®æˆâ€œ/â€ã€‚åœ¨æŒ‡å®šè·¯å¾„çš„æ—¶å€™ï¼Œå‡¡æ˜¯æ¥è‡ªåŒä¸€æœåŠ¡å™¨ï¼ŒURLé‡Œæœ‰ç›¸åŒè·¯å¾„çš„æ‰€æœ‰WEBé¡µé¢éƒ½å¯ä»¥å…±äº«cookiesã€‚ç°åœ¨çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼šå¦‚æœæƒ³è®© /head/filters/ å’Œ/head/stories/å…±äº«cookiesï¼Œå°±è¦æŠŠpathè®¾æˆâ€œ/headâ€ã€‚</li></ul><h4 id="_2-session" tabindex="-1"><a class="header-anchor" href="#_2-session" aria-hidden="true">#</a> ï¼ˆ2ï¼‰session</h4><p>åˆ›å»ºæ—¶æœºï¼š</p><p>æœåŠ¡å™¨ç«¯ç¬¬ä¸€æ¬¡è°ƒç”¨getSession()çš„æ—¶å€™ä¼šåˆ›å»ºï¼›(ä¿å­˜åœ¨æœåŠ¡å™¨å†…å­˜ä¸­)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå»è·å–sessionï¼Œå¦‚æœè·å¾—äº†å°±è·å¾—äº†ï¼Œå¦‚æœä¸èƒ½è·å–åˆ™ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li>åœ¨å†…å­˜åˆ›å»ºä¸€ä¸ªsessionï¼ŒåŒæ—¶ç»™è¿™ä¸ªsessionä¸€ä¸ªid</li><li>å“åº”ä¸­åŠ ä¸€ä¸ªé¦–éƒ¨set-Cookieï¼Œå¸¦ä¸Šè¿™ä¸ªidï¼Œè¿™ä¸ªé»˜è®¤çš„cookieï¼Œä¼šåœ¨å…³é—­æµè§ˆå™¨æ—¶æ¶ˆé™¤ã€‚</li></ul><p>å†…å­˜ä¸­çš„sessionä¸ä¼šä¸€ç›´å­˜åœ¨ï¼Œé…ç½®sessionçš„å¤±æ•ˆæ—¶é—´</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;session-config&gt;
    &lt;session-timeout&gt;30&lt;/session-timeout&gt;
&lt;/session-config&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€servletä¸‰å¤§åŸŸå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_5ã€servletä¸‰å¤§åŸŸå¯¹è±¡" aria-hidden="true">#</a> 5ã€Servletä¸‰å¤§åŸŸå¯¹è±¡</h3><table><thead><tr><th>å¯¹è±¡åç§°</th><th>å¯¹è±¡çš„ç±»å‹</th></tr></thead><tbody><tr><td>request</td><td>HttpServletRequest</td></tr><tr><td>session</td><td>HttpSession</td></tr><tr><td>application</td><td>ServletContext</td></tr></tbody></table><p>æ€ä¹ˆç†è§£åŸŸå¯¹è±¡ï¼Œå°±æ˜¯è¿™å‡ ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±ç®¡ç†çš„é¢†åŸŸï¼Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ è¿‡ä½œç”¨åŸŸï¼Œæ¯ä¸€ä¸ªå˜é‡éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªåŸŸå¯¹è±¡ä¸­ä¿å­˜ä¸€äº›æ•°æ®ï¼Œä¸åŒçš„åŸŸå¯¹è±¡æœ‰è‡ªå·±ä¸åŒçš„ä½œç”¨èŒƒå›´ã€‚</p><h4 id="_1-request" tabindex="-1"><a class="header-anchor" href="#_1-request" aria-hidden="true">#</a> ï¼ˆ1ï¼‰request</h4><p>ç”Ÿå‘½å‘¨æœŸï¼š</p><ul><li>åˆ›å»ºï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€æ¬¡è¯·æ±‚,æœåŠ¡å™¨å°±ä¼šåˆ›å»ºrequestå¯¹è±¡.</li><li>é”€æ¯ï¼šæœåŠ¡å™¨å¯¹è¿™æ¬¡è¯·æ±‚ä½œå‡ºå“åº”åå°±ä¼šé”€æ¯requestå¯¹è±¡.</li><li>æœ‰æ•ˆï¼šä»…åœ¨å½“å‰è¯·æ±‚ä¸­æœ‰æ•ˆã€‚</li></ul><p>ä½œç”¨ï¼šå¯ä»¥åœ¨è¯·æ±‚è½¬å‘ä¸­ä¼ é€’æ•°æ®ã€‚</p><h4 id="_2-session-1" tabindex="-1"><a class="header-anchor" href="#_2-session-1" aria-hidden="true">#</a> ï¼ˆ2ï¼‰session</h4><p>ç”Ÿå‘½å‘¨æœŸï¼š</p><p>åˆ›å»ºï¼šæœåŠ¡å™¨ç«¯ç¬¬ä¸€æ¬¡è°ƒç”¨getSession()ï¼›(ä¿å­˜åœ¨æœåŠ¡å™¨å†…å­˜ä¸­)</p><p>é”€æ¯ï¼š</p><ul><li>éæ­£å¸¸å…³é—­æœåŠ¡å™¨(æ­£å¸¸å…³é—­sessionä¼šåºåˆ—åŒ–ï¼Œå†æ¬¡å¯åŠ¨æœåŠ¡å™¨sessionä¼šè¢«ååºåˆ—åŒ–)ã€‚</li><li>sessionè¿‡æœŸäº†é»˜è®¤30åˆ†é’Ÿã€‚</li><li>æ‰‹åŠ¨è°ƒç”¨session.invalidate()ã€‚</li></ul><p>æ³¨æ„ï¼šå…³é—­æµè§ˆå™¨å†æ¬¡è®¿é—®ä¼šæ‰¾ä¸åˆ°sessionçš„ä¼šè¯idè€Œä¸æ˜¯sessionè¢«é”€æ¯äº†ã€‚</p><p>æœ‰æ•ˆï¼šç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ä¼šè¯å¼€å§‹ï¼Œç›´åˆ°å…³é—­æµè§ˆå™¨ä¼šè¯æ‰ä¼šç»“æŸã€‚ä¸€æ¬¡ä¼šè¯æœŸé—´åªä¼šåˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡ã€‚</p><p>ä½œç”¨ï¼šæœ€å…¸å‹çš„å°±æ˜¯ç”¨æˆ·ç™»å½•çŠ¶æ€ä¿å­˜çš„ã€‚</p><h4 id="_3-application" tabindex="-1"><a class="header-anchor" href="#_3-application" aria-hidden="true">#</a> ï¼ˆ3ï¼‰application</h4><p>ç”Ÿå‘½å‘¨æœŸï¼š</p><ul><li>åˆ›å»ºï¼šæœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™,æœåŠ¡å™¨ä¸ºæ¯ä¸ªWEBåº”ç”¨åˆ›å»ºä¸€ä¸ªå±äºè¯¥webé¡¹ç›®çš„å¯¹è±¡ServletContextç±»ã€‚</li><li>é”€æ¯ï¼šæœåŠ¡å™¨å…³é—­æˆ–è€…é¡¹ç›®ä»æœåŠ¡å™¨ä¸­ç§»é™¤çš„æ—¶å€™ã€‚</li><li>æœ‰æ•ˆï¼šæ­¤ä¿¡æ¯åœ¨æ•´ä¸ªæœåŠ¡å™¨ä¸Šè¢«ä¿ç•™ã€‚</li></ul><p>åŸŸå¯¹è±¡çš„åŒºåˆ«ï¼š</p><ul><li>request: æ¯ä¸€æ¬¡è¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–°çš„requestå¯¹è±¡,å¦‚æœåœ¨webç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«åŒä¸€ä¸ªè¯·æ±‚ä¸­çš„æ•°æ®,åªèƒ½ä½¿ç”¨è¯·æ±‚è½¬å‘ã€‚</li><li>session: æ¯ä¸€æ¬¡ä¼šè¯éƒ½æ˜¯ä¸€ä¸ªæ–°çš„sessionå¯¹è±¡,å¦‚æœåœ¨ä¸€æ¬¡ä¼šè¯ä¸­çš„å¤šä¸ªè¯·æ±‚ä¹‹é—´éœ€è¦å…±äº«æ•°æ®,åªèƒ½ä½¿ç”¨sessionã€‚</li><li>application: åº”ç”¨å¯¹è±¡,Tomcatå¯åŠ¨åˆ°å…³é—­,è¡¨ç¤ºä¸€ä¸ªåº”ç”¨,åœ¨ä¸€ä¸ªåº”ç”¨ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªapplicationå¯¹è±¡,ä½œç”¨äºæ•´ä¸ªWebåº”ç”¨,å¯ä»¥å®ç°å¤šæ¬¡ä¼šè¯ä¹‹é—´çš„æ•°æ®å…±äº«.</li></ul><p>å…±åŒç‚¹ï¼š</p><p>1ã€è®¾ç½®ä½œç”¨åŸŸä¸­çš„å…±äº«æ•°æ®ï¼ˆä¿å­˜æ•°æ®ï¼‰</p><p>ä½œç”¨åŸŸå¯¹è±¡.setAttribute(String name,Object value);</p><p>2ã€è·å–ä½œç”¨åŸŸä¸­çš„å…±äº«æ•°æ®ï¼ˆè·å–æ•°æ®ï¼‰</p><p>Object value=ä½œç”¨åŸŸå¯¹è±¡.getAttribute(String name);</p><p>3ã€åˆ é™¤ä½œç”¨åŸŸä¸­çš„æŒ‡å®šçš„å…±äº«æ•°æ®ï¼ˆåˆ é™¤æ•°æ®ï¼‰</p><p>ä½œç”¨åŸŸå¯¹è±¡.removeAttribute(String name);</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/pages/Java/JavaWeb/3-Servletè§„èŒƒ.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><!----><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 huluhutu</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/huluhutublog/assets/app.0662e65c.js" defer></script>
  </body>
</html>
