import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,d as e}from"./app.0662e65c.js";const p={},t=e(`<h1 id="\u7528\u6237\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u7528\u6237\u6A21\u5757" aria-hidden="true">#</a> \u7528\u6237\u6A21\u5757</h1><h2 id="_1-\u7528\u6237\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#_1-\u7528\u6237\u767B\u5F55" aria-hidden="true">#</a> 1-\u7528\u6237\u767B\u5F55</h2><p>\u6B64\u767B\u5F55\u529F\u80FD\u53EA\u5BF9\u5916\u63D0\u4F9B RESTful \u670D\u52A1\u63A5\u53E3\uFF0C\u4E0D\u8003\u8651\u9875\u9762\u3002\u7528\u6237\u53D1\u51FA\u4E00\u4E2A HTTP \u8BF7\u6C42\uFF0C\u8C03\u7528\u767B\u5F55\u63A5\u53E3\uFF0C\u5E76\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF0C\u5206\u522B\u4E3A userName\u3001password\u3002\u767B\u5F55\u6210\u529F\uFF0C\u4EE5 JSON \u5F62\u5F0F\u8FD4\u56DE user \u5BF9\u8C61\u3002\u767B\u5F55\u5931\u8D25\u5219\u8FD4\u56DE\u5931\u8D25\u4FE1\u606F\u3002\u5B8C\u6210\u8BD5\u9A8C\u540E\uFF0C\u7528 Postman \u8FDB\u884C\u6D4B\u8BD5\u3002</p><h3 id="iusermapper-java" tabindex="-1"><a class="header-anchor" href="#iusermapper-java" aria-hidden="true">#</a> IUserMapper.java</h3><p>\u5728 DAO \u5C42\u7684 IUserMapper.java \u6587\u4EF6\u91CC\u7F16\u5199\u4E00\u4E2A getUser \u65B9\u6CD5\uFF0C\u4ECE\u6570\u636E\u5E93 t_user \u8868\u91CC\u67E5\u8BE2\u4E00\u4E2A User \u7C7B\u578B\u7684\u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IUserMapper</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from t_user where userName = #{userName}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="userservice-java" tabindex="-1"><a class="header-anchor" href="#userservice-java" aria-hidden="true">#</a> UserService.java</h3><p>\u63A5\u4E0B\u6765\u5728 service \u5C42\u518D\u7F16\u5199\u4E00\u4E2A\u767B\u5F55\uFF08login\uFF09\u65B9\u6CD5\uFF0C\u7528\u4E8E\u5B9E\u73B0\u767B\u5F55\u7684\u4E1A\u52A1\u3002\u8FD9\u91CC\u9700\u8981\u4F20\u5165\u4E24\u4E2A\u53C2\u6570\u3002\u4E00\u4E2A\u662F userName\uFF0C\u4E00\u4E2A password\u3002\u5F53\u7528\u6237\u767B\u5F55\u6210\u529F\u65F6\u8FD4\u56DE user \u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">IUserMapper</span> userMapper<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u767B\u5F55\u65B9\u6CD5
     * <span class="token keyword">@param</span> <span class="token parameter">username</span> \u7528\u6237\u540D
     * <span class="token keyword">@param</span> <span class="token parameter">password</span> \u7528\u6237\u5BC6\u7801
     * <span class="token keyword">@return</span>  \u8FD4\u56DE\u767B\u9646\u8005
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">return</span>  user<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="usercontroller-java" tabindex="-1"><a class="header-anchor" href="#usercontroller-java" aria-hidden="true">#</a> UserController.java</h3><p>\u6700\u540E\u5728 controller \u5C42\u7F16\u5199\u4E00\u4E2A\u5BF9\u5916\u5F00\u653E\u7684 Rest \u63A5\u53E3\u3002\u7528\u4E8E\u63A5\u6536\u767B\u5F55\uFF08/login\uFF09\u8BF7\u6C42\u3002\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\u5206\u522B\u4E3A\u3002 userName\u3001password\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u7528\u6237\u6CE8\u518C" tabindex="-1"><a class="header-anchor" href="#_2-\u7528\u6237\u6CE8\u518C" aria-hidden="true">#</a> 2-\u7528\u6237\u6CE8\u518C</h2><p>\u6B64\u6CE8\u518C\u529F\u80FD\u53EA\u5BF9\u5916\u63D0\u4F9B RESTful \u670D\u52A1\u63A5\u53E3\uFF0C\u4E0D\u8003\u8651\u9875\u9762\u3002\u7528\u6237\u53D1\u51FA\u4E00\u4E2A HTTP \u8BF7\u6C42\uFF0C\u8C03\u7528\u6CE8\u518C\u63A5\u53E3\uFF0C\u5E76\u63A5\u6536\u7528\u6237\u4FE1\u606F\u3002\u6CE8\u518C\u6210\u529F\uFF0C\u4EE5 JSON \u5F62\u5F0F\u8FD4\u56DE\u6267\u884C\u662F\u5426\u6210\u529F\u7684\u76F8\u5173\u4FE1\u606F \u3002\u5B8C\u6210\u8BD5\u9A8C\u540E\uFF0C\u7528 Postman \u8FDB\u884C\u6D4B\u8BD5\u3002</p><h3 id="iusermapper-java-1" tabindex="-1"><a class="header-anchor" href="#iusermapper-java-1" aria-hidden="true">#</a> IUserMapper.java</h3><p>\u5728 DAO \u5C42\u7684 IUserMapper.java \u6587\u4EF6\u91CC\u7F16\u5199\u4E00\u4E2A saveUser \u65B9\u6CD5\uFF0C\u5411\u6570\u636E\u5E93 t_user \u8868\u63D2\u5165\u4E00\u4E2A\u7528\u6237\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IUserMapper</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">&quot;insert into t_user(userName,password,realname,phone) &quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;values(#{user.userName},#{user.password},#{user.realname},#{user.phone})&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Integer</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="userservice-java-1" tabindex="-1"><a class="header-anchor" href="#userservice-java-1" aria-hidden="true">#</a> UserService.java</h3><p>\u63A5\u4E0B\u6765\u5728 service \u5C42\u518D\u7F16\u5199\u4E00\u4E2A save \u65B9\u6CD5\uFF0C\u7528\u4E8E\u5B9E\u73B0\u6DFB\u52A0\u7528\u6237\u529F\u80FD\u3002\u4F20\u5165\u7684\u53C2\u6570\u662F\u7528\u6237\u4FE1\u606F\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">IUserMapper</span> userMapper<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span>
        <span class="token class-name">String</span> realname<span class="token punctuation">,</span> <span class="token class-name">String</span> phone<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setRealname</span><span class="token punctuation">(</span>realname<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userMapper<span class="token punctuation">.</span><span class="token function">saveUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="usercontroller-java-1" tabindex="-1"><a class="header-anchor" href="#usercontroller-java-1" aria-hidden="true">#</a> UserController.java</h3><p>\u6700\u540E\u5728 controller \u5C42\u7F16\u5199\u4E00\u4E2A\u5BF9\u5916\u5F00\u653E\u7684 Rest \u63A5\u53E3\u3002\u7528\u4E8E\u63A5\u6536\u6CE8\u518C\uFF08/regist\uFF09\u8BF7\u6C42\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/regist&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">regist</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">,</span>
                                      <span class="token class-name">String</span> realname<span class="token punctuation">,</span><span class="token class-name">String</span> phone<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Boolean</span> b <span class="token operator">=</span>  userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span>password<span class="token punctuation">,</span>realname<span class="token punctuation">,</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u4E2A\u4EBA\u4E3B\u9875" tabindex="-1"><a class="header-anchor" href="#_3-\u4E2A\u4EBA\u4E3B\u9875" aria-hidden="true">#</a> 3-\u4E2A\u4EBA\u4E3B\u9875</h2><p>\u6B64\u529F\u80FD\u53EA\u5BF9\u5916\u63D0\u4F9B RESTful \u670D\u52A1\u63A5\u53E3\uFF0C\u4E0D\u8003\u8651\u9875\u9762\u3002\u7528\u6237\u53D1\u51FA\u4E00\u4E2A HTTP \u8BF7\u6C42\uFF0C\u8C03\u7528\u67E5\u770B\u63A5\u53E3\uFF0C\u5E76\u63A5\u6536\u4E00\u4E2A\u53C2\u6570 userId\u3002\u628A\u67E5\u8BE2\u51FA\u6765\u7684\u7528\u6237\u4FE1\u606F\u4EE5 JSON \u5F62\u5F0F\u54CD\u5E94\u7ED9\u5BA2\u6237\u7AEF\u3002\u5B8C\u6210\u8BD5\u9A8C\u540E\uFF0C\u7528 Postman \u8FDB\u884C\u6D4B\u8BD5\u3002</p><h3 id="iusermapper-java-2" tabindex="-1"><a class="header-anchor" href="#iusermapper-java-2" aria-hidden="true">#</a> IUserMapper.java</h3><p>\u5728 DAO \u5C42\u7684 IUserMapper.java \u6587\u4EF6\u91CC\u7F16\u5199\u4E00\u4E2A getUserByUserId \u65B9\u6CD5\uFF0C\u4ECE\u6570\u636E\u5E93 t_user \u8868\u91CC\u67E5\u8BE2\u4E00\u4E2A User \u7C7B\u578B\u7684\u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IUserMapper</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from t_user where userId = #{userId}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">getUserByUserId</span><span class="token punctuation">(</span><span class="token class-name">Long</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="userservice-java-2" tabindex="-1"><a class="header-anchor" href="#userservice-java-2" aria-hidden="true">#</a> UserService.java</h3><p>\u63A5\u4E0B\u6765\u5728 service \u5C42\u518D\u7F16\u5199\u4E00\u4E2A getUserByUserId \u65B9\u6CD5\uFF0C\u7528\u4E8E\u5904\u7406\u67E5\u8BE2\u7528\u6237\u7684\u4E1A\u52A1\u3002\u8FD9\u91CC\u9700\u8981\u4F20\u5165\u4E00\u4E2A\u53C2\u6570 userId\u3002\u8FD4\u56DE user \u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">IUserMapper</span> userMapper<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u67E5\u8BE2\u7528\u6237
     * <span class="token keyword">@param</span> <span class="token parameter">userId</span> \u7528\u6237 id
     * <span class="token keyword">@return</span>  \u8FD4\u56DE\u767B\u9646\u8005
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUserByUserId</span><span class="token punctuation">(</span><span class="token class-name">Long</span> userId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> userMapper<span class="token punctuation">.</span><span class="token function">getUserByUserId</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="usercontroller-java-2" tabindex="-1"><a class="header-anchor" href="#usercontroller-java-2" aria-hidden="true">#</a> UserController.java</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/my&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">my</span><span class="token punctuation">(</span><span class="token class-name">Long</span> userId<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">getUserByUserId</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u67E5\u4E0D\u5230\u6B64\u7528\u6237&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33),c=[t];function o(l,i){return s(),a("div",null,c)}const k=n(p,[["render",o],["__file","5-\u7528\u6237\u6A21\u5757.html.vue"]]);export{k as default};
